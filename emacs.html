<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-09-14 Thu 21:10 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs configuration</title>
<meta name="author" content="Tristan Mills" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Emacs configuration</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org9354952">1. License</a></li>
<li><a href="#org21b1547">2. Overview</a>
<ul>
<li><a href="#org5e95f48">2.1. General resources</a></li>
</ul>
</li>
<li><a href="#org8366397">3. Initialization</a>
<ul>
<li><a href="#orgfc00699">3.1. The 'early init'</a></li>
<li><a href="#org6e230c0">3.2. Regular init</a></li>
<li><a href="#orgf4077a5">3.3. Tangling</a></li>
</ul>
</li>
<li><a href="#orgb4e29f6">4. 29.1 bugfix for tramp 2.6.1.1.1</a></li>
<li><a href="#org846677e">5. Miscellaneous settings</a>
<ul>
<li><a href="#org243a473">5.1. Confirm kill</a></li>
<li><a href="#org3fae56d">5.2. Fringe mode</a></li>
<li><a href="#org373b374">5.3. Visual bell</a></li>
<li><a href="#org76fc991">5.4. Column numbers</a></li>
<li><a href="#org73a3f97">5.5. Better defaults</a>
<ul>
<li><a href="#org2eff3ff">5.5.1. uniquify format</a></li>
<li><a href="#orgbf11e80">5.5.2. save-place-mode</a></li>
</ul>
</li>
<li><a href="#org4df67f9">5.6. Put Custom changes in their own file</a></li>
<li><a href="#org7d16cd5">5.7. Set increase gc-cons-threshold</a></li>
<li><a href="#orge8908af">5.8. Increase amount of data read from a process</a></li>
<li><a href="#org970e848">5.9. Turn off backups</a></li>
<li><a href="#org8de57e6">5.10. No tabs</a></li>
<li><a href="#org014e0c2">5.11. Wrap lines at the end of the window</a></li>
<li><a href="#orga37e583">5.12. Adaptive cursor width</a></li>
<li><a href="#org82037e4">5.13. Always kill processes when I ask to</a></li>
<li><a href="#org177dc3d">5.14. Use view only mode for read-only files</a></li>
<li><a href="#org060b838">5.15. Use y-or-n-p for all questions</a></li>
<li><a href="#orgc965382">5.16. highlight next error</a></li>
<li><a href="#org767bd03">5.17. Deletes duplicate entries of the history of the minibuffer</a></li>
<li><a href="#org1600fb0">5.18. Pasting with the mouse without moving the point</a></li>
<li><a href="#org31272c0">5.19. delete-trailing-whitespace before saving</a></li>
<li><a href="#org6217d90">5.20. start up with a maximized frame</a></li>
</ul>
</li>
<li><a href="#org6ff3bd2">6. Package management</a>
<ul>
<li><a href="#orge6a659e">6.1. Set up package.el</a></li>
<li><a href="#orgf1e38de">6.2. Use-package</a></li>
<li><a href="#org13b7436">6.3. auto-package-update</a></li>
<li><a href="#orgfa73b1f">6.4. elisp directory</a></li>
<li><a href="#org60f5057">6.5. vc-use-package</a></li>
</ul>
</li>
<li><a href="#org40f01eb">7. Environment specific settings</a>
<ul>
<li><a href="#org669ce54">7.1. WSL2</a></li>
</ul>
</li>
<li><a href="#org30e4ad4">8. Miscellaneous key bindings</a>
<ul>
<li><a href="#org474b506">8.1. imenu to <code>M-i</code></a></li>
<li><a href="#orgca5d6ae">8.2. Unset <code>C-z</code></a></li>
</ul>
</li>
<li><a href="#org7f566cc">9. General prettifying</a>
<ul>
<li><a href="#org9c2f46d">9.1. Font settings</a>
<ul>
<li><a href="#org966ce01">9.1.1. Set font size based on screen resolution</a></li>
<li><a href="#org10ca7ea">9.1.2. Emoji support</a></li>
</ul>
</li>
<li><a href="#org283f7c7">9.2. Themeing</a>
<ul>
<li><a href="#org4bf51c7">9.2.1. ef-themes</a></li>
</ul>
</li>
<li><a href="#org70f19b0">9.3. Modeline</a>
<ul>
<li><a href="#org37f675f">9.3.1. Diminish</a></li>
<li><a href="#org1e841ad">9.3.2. doom-modeline</a></li>
</ul>
</li>
<li><a href="#orgef06b76">9.4. all-the-icons</a>
<ul>
<li><a href="#orgb4220d8">9.4.1. In dired</a></li>
</ul>
</li>
<li><a href="#org9462904">9.5. <span class="todo TODO">TODO</span> nerd-icons</a></li>
<li><a href="#org8d70d95">9.6. variable-pitch-mode</a></li>
</ul>
</li>
<li><a href="#org4ffa84a">10. Document modes</a>
<ul>
<li><a href="#org6d4ce02">10.1. pdf-tools</a></li>
</ul>
</li>
<li><a href="#org30500c2">11. Org Mode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="org">org</span></span></a>
<ul>
<li><a href="#orgf1fd539">11.1. htmlize</a></li>
<li><a href="#org41e0eca">11.2. Install and configure</a>
<ul>
<li><a href="#org4164299">11.2.1. Key bindings</a></li>
<li><a href="#org377f731">11.2.2. Customize</a></li>
<li><a href="#org45ecaf3">11.2.3. Config</a></li>
</ul>
</li>
<li><a href="#orgc075d56">11.3. Other configuration</a>
<ul>
<li><a href="#org8e88b77">11.3.1. OrgTempo</a></li>
<li><a href="#org3cfc4c7">11.3.2. org-superstar</a></li>
<li><a href="#org86669d1">11.3.3. <span class="todo TODO">TODO</span> all old code - move, delete etc</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9402eb4">12. Completion</a>
<ul>
<li><a href="#org32302de">12.1. <span class="todo TODO">TODO</span> corfu</a></li>
<li><a href="#org40495c4">12.2. vertico</a></li>
<li><a href="#org10ef7a0">12.3. vertico-directory</a></li>
<li><a href="#org43e5136">12.4. marginalia</a></li>
<li><a href="#org6c5c71a">12.5. all-the-icons-completion</a></li>
<li><a href="#org33ec641">12.6. orderless</a></li>
<li><a href="#org9d8d2c9">12.7. <span class="todo TODO">TODO</span> consult</a></li>
<li><a href="#org911fe62">12.8. Embark</a></li>
<li><a href="#orgea5cb18">12.9. <span class="todo TODO">TODO</span> Snippets</a></li>
</ul>
</li>
<li><a href="#org0639507">13. Magit</a></li>
<li><a href="#org1ac9527">14. Misc modes</a>
<ul>
<li><a href="#orgce052ba">14.1. Which Key</a></li>
<li><a href="#org6614dbe">14.2. rainbow-delimiters</a></li>
<li><a href="#orgaabacb4">14.3. pulsar</a></li>
<li><a href="#orgbacb88f">14.4. <span class="todo TODO">TODO</span> Avy</a></li>
<li><a href="#org8e396c8">14.5. lin to hightlight lines</a></li>
<li><a href="#orgbac7084">14.6. helpful</a></li>
</ul>
</li>
<li><a href="#orgff1aff9">15. Windows</a>
<ul>
<li><a href="#org99b1187">15.1. ace-window</a></li>
<li><a href="#org31e1d6e">15.2. golden-ratio</a></li>
<li><a href="#org960e534">15.3. <span class="todo TODO">TODO</span> window configuration</a>
<ul>
<li><a href="#org693076c">15.3.1. Buffer display settings</a></li>
<li><a href="#orgc3e1791">15.3.2. display-buffer-alist</a></li>
</ul>
</li>
<li><a href="#org9330f24">15.4. <span class="todo TODO">TODO</span> Window Commander</a></li>
</ul>
</li>
<li><a href="#org25a0dc6">16. Programming</a>
<ul>
<li><a href="#org0342f8c">16.1. Typescript</a></li>
<li><a href="#org10f5b7d">16.2. Treesitter</a>
<ul>
<li><a href="#orgf447bde">16.2.1. <span class="todo TODO">TODO</span> Combobulate</a></li>
</ul>
</li>
<li><a href="#orgbe517d9">16.3. Jest</a></li>
<li><a href="#orgd1fad6e">16.4. prettier</a></li>
<li><a href="#org7900070">16.5. <span class="todo TODO">TODO</span> project.el</a>
<ul>
<li><a href="#org6fce9f7">16.5.1. <span class="todo TODO">TODO</span> exclude build &amp; node files</a></li>
<li><a href="#orgffbae10">16.5.2. <span class="todo TODO">TODO</span> switch between current file and test file a la projectile</a></li>
</ul>
</li>
<li><a href="#org3289320">16.6. Flymake</a></li>
<li><a href="#orge2831ba">16.7. eglot</a>
<ul>
<li><a href="#orgc6cb2f7">16.7.1. <span class="todo TODO">TODO</span> keymapping</a></li>
</ul>
</li>
<li><a href="#orgfe2b779">16.8. Python</a>
<ul>
<li><a href="#org6c67378">16.8.1. elpy</a></li>
</ul>
</li>
<li><a href="#org19792fd">16.9. elisp</a></li>
<li><a href="#orgc1be70d">16.10. scheme</a></li>
</ul>
</li>
<li><a href="#orgbcf04ac">17. Editing</a>
<ul>
<li><a href="#org024d70c">17.1. paredit</a></li>
<li><a href="#org6265e15">17.2. <span class="todo TODO">TODO</span> smartparen</a>
<ul>
<li><a href="#org49c7318">17.2.1. <span class="todo TODO">TODO</span> smartparens keybindings</a></li>
</ul>
</li>
<li><a href="#org2370b70">17.3. jitspell</a></li>
<li><a href="#orgb487017">17.4. markdown</a></li>
</ul>
</li>
<li><a href="#org3c466e6">18. Terminals and shell</a>
<ul>
<li><a href="#org076216e">18.1. vterm</a></li>
<li><a href="#orgfa4309c">18.2. eat</a></li>
<li><a href="#orge5b1095">18.3. <span class="todo TODO">TODO</span> eshell</a></li>
</ul>
</li>
<li><a href="#orgd43e1f2">19. ement / MATRIX</a></li>
<li><a href="#org52fbd5b">20. IRC</a></li>
<li><a href="#orga7ff4d8">21. email</a>
<ul>
<li><a href="#org572e3fe">21.1. Sending</a>
<ul>
<li><a href="#orge7a30ca">21.1.1. <span class="todo NEXT">NEXT</span> send via gmail too</a></li>
</ul>
</li>
<li><a href="#orgea20442">21.2. mu4e</a>
<ul>
<li><a href="#orgfc157a4">21.2.1. iCalendar integration</a></li>
</ul>
</li>
<li><a href="#org071212e">21.3. <span class="todo TODO">TODO</span> Add auto refiling hooks</a></li>
</ul>
</li>
<li><a href="#org92a1e5f">22. Elfeed</a></li>
<li><a href="#org194ff4c">23. Democratize</a></li>
<li><a href="#org48477bb">24. Denote</a></li>
<li><a href="#orgac12c46">25. <span class="todo TODO">TODO</span> session management</a></li>
<li><a href="#org351e7e8">26. <span class="todo TODO">TODO</span> general key bindings</a>
<ul>
<li><a href="#orge3abb0a">26.1. Functions for use in my</a>
<ul>
<li><a href="#org66972b1">26.1.1. Open my emacs config</a></li>
</ul>
</li>
<li><a href="#orge8056e6">26.2. Custom  prefix</a></li>
</ul>
</li>
<li><a href="#orge4b3a6d">27. After everything loaded</a>
<ul>
<li><a href="#orgcbc1ecd">27.1. Line numbers</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
#+l
</p>

<div id="outline-container-org9354952" class="outline-2">
<h2 id="org9354952"><span class="section-number-2">1.</span> License</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">This file is free software: you can redistribute it and/or modify it</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">under the terms of the GNU General Public License as published by the</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">your option) any later version.</span>
<span style="color: #876450; font-style: italic;">;;</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">This file is distributed in the hope that it will be useful, but</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">General Public License for more details.</span>
<span style="color: #876450; font-style: italic;">;;</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">You should have received a copy of the GNU General Public License</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">along with this file.  If not, see <a href="http://www.gnu.org/licenses/">&lt;http://www.gnu.org/licenses/&gt;</a>.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org21b1547" class="outline-2">
<h2 id="org21b1547"><span class="section-number-2">2.</span> Overview</h2>
<div class="outline-text-2" id="text-2">
<p>
Emacs configuration.
</p>

<p>
Currently this is used on:
</p>
<ul class="org-ul">
<li>WSL2</li>
</ul>

<p>
In the past I've used previous iterations on MacOS X, and I am experimenting with Android.
</p>

<p>
If you are looking at the public version of this, then some links will probably not work, and there will be missing sections. Do not just try and use this as is - it will probably fail
</p>
</div>

<div id="outline-container-org5e95f48" class="outline-3">
<h3 id="org5e95f48"><span class="section-number-3">2.1.</span> General resources</h3>
<div class="outline-text-3" id="text-2-1">
<p>
I look at other people's configs quite a lot.
</p>
<ul class="org-ul">
<li><a href="https://github.com/novoid/dot-emacs">Karl Voit's config</a> Since I've been doing a pretty deep Org dive</li>
</ul>

<p>
There's also quite a few blogs where I find things
</p>
<ul class="org-ul">
<li><a href="elfeed.html#MissingReference">My emacs blog feed</a></li>
<li><a href="https://karl-voit.at/">Karl Voit</a> is a very useful blog for using Org mode</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org8366397" class="outline-2">
<h2 id="org8366397"><span class="section-number-2">3.</span> Initialization</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgfc00699" class="outline-3">
<h3 id="orgfc00699"><span class="section-number-3">3.1.</span> The 'early init'</h3>
<div class="outline-text-3" id="text-3-1">
<p>
I have an <code>early-init.el</code> which sets some things up:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;;; </span><span style="color: #876450; font-style: italic;">early-init.el --- Early Init File -*- lexical-binding: t -*-</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Copyright (c) 2020-2022  Protesilaos Stavrou <a href="mailto:info%40protesilaos.com">&lt;info@protesilaos.com&gt;</a></span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Author: Protesilaos Stavrou <a href="mailto:info%40protesilaos.com">&lt;info@protesilaos.com&gt;</a></span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">URL: https://protesilaos.com/emacs/dotemacs</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Version: 0.1.0</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Package-Requires: ((emacs "28.1"))</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">This file is NOT part of GNU Emacs.</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">This file is free software: you can redistribute it and/or modify it</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">under the terms of the GNU General Public License as published by the</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">your option) any later version.</span>
<span style="color: #876450; font-style: italic;">;;</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">This file is distributed in the hope that it will be useful, but</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">General Public License for more details.</span>
<span style="color: #876450; font-style: italic;">;;</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">You should have received a copy of the GNU General Public License</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">along with this file.  If not, see <a href="http://www.gnu.org/licenses/">&lt;http://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #876450; font-style: italic;">;;; </span><span style="color: #876450; font-style: italic;">Commentary:</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Prior to Emacs 27, the `</span><span style="color: #d03003; font-style: italic;">init.el</span><span style="color: #876450; font-style: italic;">' was supposed to handle the</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">initialisation of the package manager, by means of calling</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">`</span><span style="color: #d03003; font-style: italic;">package-initialize</span><span style="color: #876450; font-style: italic;">'.  Starting with Emacs 27, the default</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">behaviour is to start the package manager before loading the init</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">file.</span>
<span style="color: #876450; font-style: italic;">;;</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">See my dotfiles: https://git.sr.ht/~protesilaos/dotfiles</span>

<span style="color: #876450; font-style: italic;">;;; </span><span style="color: #876450; font-style: italic;">Code:</span>

<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">dolist</span> <span style="color: #007f68;">(</span>var '<span style="color: #cb26a0;">(</span>default-frame-alist initial-frame-alist<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>add-to-list var '<span style="color: #cb26a0;">(</span>width . <span style="color: #5f5fdf;">(</span>text-pixels . 1600<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>add-to-list var '<span style="color: #cb26a0;">(</span>height . <span style="color: #5f5fdf;">(</span>text-pixels . 900<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Initialise installed packages</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> package-enable-at-startup t<span style="color: #cf2f4f;">)</span>

<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">defvar</span> <span style="color: #1f6fbf;">package-quickstart</span><span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Allow loading from the package cache</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> package-quickstart t<span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Do not resize the frame at this early stage.</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> frame-inhibit-implied-resize t<span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Disable GUI elements</span>
<span style="color: #876450; font-style: italic;">;;</span><span style="color: #876450; font-style: italic;">(menu-bar-mode -1)</span>
<span style="color: #cf2f4f;">(</span>tool-bar-mode -1<span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span>scroll-bar-mode -1<span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> inhibit-splash-screen t<span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> use-dialog-box t<span style="color: #cf2f4f;">)</span>                 <span style="color: #876450; font-style: italic;">; </span><span style="color: #876450; font-style: italic;">only for mouse events</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> use-file-dialog nil<span style="color: #cf2f4f;">)</span>

<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> inhibit-startup-echo-area-message user-login-name<span style="color: #cf2f4f;">)</span> <span style="color: #876450; font-style: italic;">; </span><span style="color: #876450; font-style: italic;">read the docstring</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> inhibit-startup-screen t<span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> inhibit-startup-buffer-menu t<span style="color: #cf2f4f;">)</span>

<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> native-comp-async-report-warnings-errors 'silent<span style="color: #cf2f4f;">)</span> <span style="color: #876450; font-style: italic;">; </span><span style="color: #876450; font-style: italic;">emacs28 with native compilation</span>

<span style="color: #876450; font-style: italic;">;</span><span style="color: #876450; font-style: italic;">(add-to-list 'load-path "/usr/local/share/emacs/site-lisp/mu4e")</span>


<span style="color: #876450; font-style: italic;">;;; </span><span style="color: #876450; font-style: italic;">early-init.el ends here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6e230c0" class="outline-3">
<h3 id="org6e230c0"><span class="section-number-3">3.2.</span> Regular init</h3>
<div class="outline-text-3" id="text-3-2">
<p>
The <code>init.el</code> no longer uses org to load this file, it requires it to be tangled into `emacs.el` separately
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">let</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span>emacs-el <span style="color: #5f5fdf;">(</span>expand-file-name <span style="color: #b6540f;">"emacs.el"</span>
                                  user-emacs-directory<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
      <span style="color: #007f68;">)</span>
    <span style="color: #007f68;">(</span>load-file emacs-el<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf4077a5" class="outline-3">
<h3 id="orgf4077a5"><span class="section-number-3">3.3.</span> Tangling</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Tangle this file. Do it deliberately. Too many times I've accidentally broken something
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org2bb6aac"><span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Tangle my config</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">defun</span> <span style="color: #4a7d00;">twem2/org-babel-tangle-config</span> <span style="color: #007f68;">()</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">interactive</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">let*</span> <span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>init-el <span style="color: #b6540f;">(</span>expand-file-name <span style="color: #b6540f;">"emacs.el"</span>
                                    user-emacs-directory<span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span>
         <span style="color: #5f5fdf;">(</span>init-org  <span style="color: #b6540f;">(</span>expand-file-name <span style="color: #b6540f;">"emacs.org"</span>
                                      user-emacs-directory<span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">when</span> <span style="color: #5f5fdf;">(</span>file-exists-p init-el<span style="color: #5f5fdf;">)</span>
      <span style="color: #5f5fdf;">(</span>delete-file init-el<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">org</span><span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span>org-babel-tangle-file init-org init-el<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">run tangle upon exit</span>
<span style="color: #876450; font-style: italic;">;</span><span style="color: #876450; font-style: italic;">(add-hook 'kill-emacs-hook #'twem2/org-babel-tangle-config)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb4e29f6" class="outline-2">
<h2 id="orgb4e29f6"><span class="section-number-2">4.</span> 29.1 bugfix for tramp 2.6.1.1.1</h2>
<div class="outline-text-2" id="text-4">
<p>
Fix from notes about GNU ELPA version
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">when</span> <span style="color: #007f68;">(</span>string-equal emacs-version <span style="color: #b6540f;">"29.1"</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">with-current-buffer</span>
      <span style="color: #cb26a0;">(</span>url-retrieve-synchronously
       <span style="color: #b6540f;">"https://git.savannah.gnu.org/cgit/emacs.git/plain/lisp/emacs-lisp/loaddefs-gen.el?h=emacs-29"</span><span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span>goto-char <span style="color: #5f5fdf;">(</span>point-min<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">while</span> <span style="color: #5f5fdf;">(</span>looking-at <span style="color: #b6540f;">"^.+$"</span><span style="color: #5f5fdf;">)</span> <span style="color: #5f5fdf;">(</span>forward-line<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span>eval-region <span style="color: #5f5fdf;">(</span>point<span style="color: #5f5fdf;">)</span> <span style="color: #5f5fdf;">(</span>point-max<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org846677e" class="outline-2">
<h2 id="org846677e"><span class="section-number-2">5.</span> Miscellaneous settings</h2>
<div class="outline-text-2" id="text-5">
<p>
A collection of settings which don't fit elsewhere. Mostly just small usability settings.
</p>
</div>

<div id="outline-container-org243a473" class="outline-3">
<h3 id="org243a473"><span class="section-number-3">5.1.</span> Confirm kill</h3>
<div class="outline-text-3" id="text-5-1">
<p>
I have a habit of fat fingering <code>C-x C-c</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> confirm-kill-emacs 'yes-or-no-p<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3fae56d" class="outline-3">
<h3 id="org3fae56d"><span class="section-number-3">5.2.</span> Fringe mode</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Add a small fringe to the window
</p>

<p>
Using the width of one char so mu4e headings line up
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org339ac38"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">defun</span> <span style="color: #4a7d00;">update-fringe</span> <span style="color: #007f68;">()</span>
  <span style="color: #a04360; font-style: italic;">"Update the fringe to one char"</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">interactive</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">if</span> window-system
      <span style="color: #cb26a0;">(</span>set-fringe-style <span style="color: #5f5fdf;">(</span>frame-char-width<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">push</span> 'update-fringe after-make-frame-functions<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org373b374" class="outline-3">
<h3 id="org373b374"><span class="section-number-3">5.3.</span> Visual bell</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Flash don't beep
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org6af081e"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> visible-bell t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org76fc991" class="outline-3">
<h3 id="org76fc991"><span class="section-number-3">5.4.</span> Column numbers</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Show column in the modeline
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orga954569"><span style="color: #cf2f4f;">(</span>column-number-mode t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org73a3f97" class="outline-3">
<h3 id="org73a3f97"><span class="section-number-3">5.5.</span> Better defaults</h3>
<div class="outline-text-3" id="text-5-5">
<p>
<a href="https://git.sr.ht/~technomancy/better-defaults">Better Defaults</a> provides quite a few changes to Emacs's defaults, these are all taken from there
</p>
</div>

<div id="outline-container-org2eff3ff" class="outline-4">
<h4 id="org2eff3ff"><span class="section-number-4">5.5.1.</span> uniquify format</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
The default is not very useful, this will give more details
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org5f33588"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">uniquify</span><span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> uniquify-buffer-name-style 'forward<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf11e80" class="outline-4">
<h4 id="orgbf11e80"><span class="section-number-4">5.5.2.</span> save-place-mode</h4>
<div class="outline-text-4" id="text-5-5-2">
<p>
See <a href="https://www.emacswiki.org/emacs/SavePlace">https://www.emacswiki.org/emacs/SavePlace</a> - this will save your place in a buffer
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org1bea121"><span style="color: #cf2f4f;">(</span>save-place-mode 1<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org4df67f9" class="outline-3">
<h3 id="org4df67f9"><span class="section-number-3">5.6.</span> Put Custom changes in their own file</h3>
<div class="outline-text-3" id="text-5-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> custom-file <span style="color: #007f68;">(</span>expand-file-name <span style="color: #b6540f;">"custom.el"</span> user-emacs-directory<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span>load custom-file<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7d16cd5" class="outline-3">
<h3 id="org7d16cd5"><span class="section-number-3">5.7.</span> Set increase gc-cons-threshold</h3>
<div class="outline-text-3" id="text-5-7">
<p>
Should help with slowdowns due to eglot / lsp communication using lots of memory
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> gc-cons-threshold 100000000<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge8908af" class="outline-3">
<h3 id="orge8908af"><span class="section-number-3">5.8.</span> Increase amount of data read from a process</h3>
<div class="outline-text-3" id="text-5-8">
<p>
More potential eglot / lsp improvement
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> read-process-output-max <span style="color: #007f68;">(</span>* 1024 1024<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span> <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">1mb</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org970e848" class="outline-3">
<h3 id="org970e848"><span class="section-number-3">5.9.</span> Turn off backups</h3>
<div class="outline-text-3" id="text-5-9">
<p>
Are all those files ending in a tilde are just litter?
Use <code>make-backup-files</code> not <code>backup-inhibited</code> as the latter is intended to be used as a buffer-local variable
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">disabled until I look into using a different directory</span>
<span style="color: #876450; font-style: italic;">; </span><span style="color: #876450; font-style: italic;">(setq make-backup-files nil)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8de57e6" class="outline-3">
<h3 id="org8de57e6"><span class="section-number-3">5.10.</span> No tabs</h3>
<div class="outline-text-3" id="text-5-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq-default</span> indent-tabs-mode nil<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org014e0c2" class="outline-3">
<h3 id="org014e0c2"><span class="section-number-3">5.11.</span> Wrap lines at the end of the window</h3>
<div class="outline-text-3" id="text-5-11">
<p>
Turn off with <code>M-x toggle-truncate-lines</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq-default</span> truncate-lines t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga37e583" class="outline-3">
<h3 id="orga37e583"><span class="section-number-3">5.12.</span> Adaptive cursor width</h3>
<div class="outline-text-3" id="text-5-12">
<p>
<a href="http://pragmaticemacs.com/emacs/adaptive-cursor-width/">Adaptive cursor width | Pragmatic Emacs</a>: make cursor the width of the
character it is under; i.e. full width of a TAB:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> x-stretch-cursor t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org82037e4" class="outline-3">
<h3 id="org82037e4"><span class="section-number-3">5.13.</span> Always kill processes when I ask to</h3>
<div class="outline-text-3" id="text-5-13">
<p>
Tip via <a href="https://irreal.org/blog/?p=9027">irreal</a>. I share the same rationale: I never answer anything different to "y". So I disabled it:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> confirm-kill-processes nil<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org177dc3d" class="outline-3">
<h3 id="org177dc3d"><span class="section-number-3">5.14.</span> Use view only mode for read-only files</h3>
<div class="outline-text-3" id="text-5-14">
<p>
Open file system read-only files as read-only in Emacs as well: (via <a href="https://www.wisdomandwonder.com/programming/13521/automatically-open-read-only-files-in-view-mode?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=automatically-open-read-only-files-in-view-mode">this article</a>)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> view-read-only t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org060b838" class="outline-3">
<h3 id="org060b838"><span class="section-number-3">5.15.</span> Use y-or-n-p for all questions</h3>
<div class="outline-text-3" id="text-5-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> use-short-answers t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc965382" class="outline-3">
<h3 id="orgc965382"><span class="section-number-3">5.16.</span> highlight next error</h3>
<div class="outline-text-3" id="text-5-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> next-error-message-highlight t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org767bd03" class="outline-3">
<h3 id="org767bd03"><span class="section-number-3">5.17.</span> Deletes duplicate entries of the history of the minibuffer</h3>
<div class="outline-text-3" id="text-5-17">
<p>
"If the value of this variable is t, that means when adding a new
history element, all previous identical elements are deleted." from:
<a href="http://www.gnu.org/software/emacs/manual/html_node/elisp/Minibuffer-History.html">http://www.gnu.org/software/emacs/manual/html_node/elisp/Minibuffer-History.html</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> history-delete-duplicates t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1600fb0" class="outline-3">
<h3 id="org1600fb0"><span class="section-number-3">5.18.</span> Pasting with the mouse without moving the point</h3>
<div class="outline-text-3" id="text-5-18">
<p>
"middle-clicking pastes at the current location instead of moving it"
from: <a href="http://sachachua.com/blog/2017/04/emacs-pasting-with-the-mouse-without-moving-the-point-mouse-yank-at-point/">http://sachachua.com/blog/2017/04/emacs-pasting-with-the-mouse-without-moving-the-point-mouse-yank-at-point/</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> mouse-yank-at-point t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org31272c0" class="outline-3">
<h3 id="org31272c0"><span class="section-number-3">5.19.</span> delete-trailing-whitespace before saving</h3>
<div class="outline-text-3" id="text-5-19">
<p>
I don't see any use of trailing whitespace.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span>add-hook 'before-save-hook 'delete-trailing-whitespace<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org6217d90" class="outline-3">
<h3 id="org6217d90"><span class="section-number-3">5.20.</span> start up with a maximized frame</h3>
<div class="outline-text-3" id="text-5-20">
<p>
<a href="https://emacsredux.com/blog/2020/12/04/maximize-the-emacs-frame-on-startup/">https://emacsredux.com/blog/2020/12/04/maximize-the-emacs-frame-on-startup/</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span>add-to-list 'initial-frame-alist '<span style="color: #007f68;">(</span>fullscreen . maximized<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6ff3bd2" class="outline-2">
<h2 id="org6ff3bd2"><span class="section-number-2">6.</span> Package management</h2>
<div class="outline-text-2" id="text-6">
<p>
I did try using <code>straight</code> for package management, but I didn't like it, and deciding the builtin <code>package.el</code> sufficed 
</p>
</div>

<div id="outline-container-orge6a659e" class="outline-3">
<h3 id="orge6a659e"><span class="section-number-3">6.1.</span> Set up package.el</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Add <a href="https://melpa.org/">MELPA</a> to the list of package archives if necessary
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">package</span><span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">unless</span> <span style="color: #007f68;">(</span>assoc-default <span style="color: #b6540f;">"melpa"</span> package-archives<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>add-to-list 'package-archives '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"melpa"</span> . <span style="color: #b6540f;">"https://melpa.org/packages/"</span><span style="color: #cb26a0;">)</span> t<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #cf2f4f;">(</span>package-initialize<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1e38de" class="outline-3">
<h3 id="orgf1e38de"><span class="section-number-3">6.2.</span> Use-package</h3>
<div class="outline-text-3" id="text-6-2">
<p>
I use <code>use-package</code> to manage package configuration and installation in most cases. It is now built in.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org229ac95"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">use-package</span><span style="color: #cf2f4f;">)</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">install by default, needs to be turned off for packages not installable by package.el</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> use-package-always-ensure t<span style="color: #cf2f4f;">)</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Allow installing upgrades of build in packages</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> package-install-upgrade-built-in t<span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">install diminish so use-package can use it</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">diminish</span>
  <span style="color: #1a870f; font-weight: bold;">:demand</span> t<span style="color: #cf2f4f;">)</span>

<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">diminish</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org13b7436" class="outline-3">
<h3 id="org13b7436"><span class="section-number-3">6.3.</span> auto-package-update</h3>
<div class="outline-text-3" id="text-6-3">
<p>
DISABLED because it has been breaking startup
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">auto-package-update</span>
<span style="color: #1a870f; font-weight: bold;">:disabled</span> t
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> auto-package-update-delete-old-versions t<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> auto-package-update-hide-results t<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>auto-package-update-maybe<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfa73b1f" class="outline-3">
<h3 id="orgfa73b1f"><span class="section-number-3">6.4.</span> elisp directory</h3>
<div class="outline-text-3" id="text-6-4">
<p>
Custom elisp directory in <a href="elisp">~/.emacs.d/elisp</a>
as of <span class="timestamp-wrapper"><span class="timestamp">[2023-08-09 Wed] </span></span> this doesn't have anything, so I've disabled it
Also, <code>use-package</code> means I can specify a path for the elisp of a package if necessary
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;</span><span style="color: #876450; font-style: italic;">(add-to-list 'load-path (expand-file-name "elisp" user-emacs-directory))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org60f5057" class="outline-3">
<h3 id="org60f5057"><span class="section-number-3">6.5.</span> vc-use-package</h3>
<div class="outline-text-3" id="text-6-5">
<p>
Install packages from version control using <code>package-vc-install</code> in <code>use-package</code>
This functionality is currently in the mainline emacs branch so will be included at some point. I don't know if it will make it into GNU Elpa use-package
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">unless</span> <span style="color: #007f68;">(</span>package-installed-p 'vc-use-package<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>package-vc-install <span style="color: #b6540f;">"https://github.com/slotThe/vc-use-package"</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">vc-use-package</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org40f01eb" class="outline-2">
<h2 id="org40f01eb"><span class="section-number-2">7.</span> Environment specific settings</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org669ce54" class="outline-3">
<h3 id="org669ce54"><span class="section-number-3">7.1.</span> WSL2</h3>
<div class="outline-text-3" id="text-7-1">
<p>
There are still some issues
</p>
<ul class="org-ul">
<li><code>M-w</code> doesn't always copy to the Windows clipboard.</li>
<li>Some links don't open properly from <code>mu4e</code> so need to be copied</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">when</span> <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">and</span> <span style="color: #cb26a0;">(</span>eq system-type 'gnu/linux<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span>getenv <span style="color: #b6540f;">"WSLENV"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Make emacs use default Windows browser</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">let</span> <span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>cmd-exe <span style="color: #b6540f;">"/mnt/c/Windows/System32/cmd.exe"</span><span style="color: #5f5fdf;">)</span>
        <span style="color: #5f5fdf;">(</span>cmd-args '<span style="color: #b6540f;">(</span><span style="color: #b6540f;">"/c"</span> <span style="color: #b6540f;">"start"</span><span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">when</span> <span style="color: #5f5fdf;">(</span>file-exists-p cmd-exe<span style="color: #5f5fdf;">)</span>
      <span style="color: #5f5fdf;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> browse-url-generic-program cmd-exe
            browse-url-generic-args cmd-args
            browse-url-browser-function 'browse-url-generic
            search-web-default-browser 'browse-url-generic<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org30e4ad4" class="outline-2">
<h2 id="org30e4ad4"><span class="section-number-2">8.</span> Miscellaneous key bindings</h2>
<div class="outline-text-2" id="text-8">
<p>
Just some key bindings which don't fit elsewhere
</p>
</div>

<div id="outline-container-org474b506" class="outline-3">
<h3 id="org474b506"><span class="section-number-3">8.1.</span> imenu to <code>M-i</code></h3>
<div class="outline-text-3" id="text-8-1">
<p>
From Mastering Emacs, <code>imenu</code> is a useful command which is unbound. <code>M-i</code> is bound to <code>tab-to-tab-stop</code> which I never use, so use it for <code>imenu</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org0620019"><span style="color: #cf2f4f;">(</span>global-set-key <span style="color: #007f68;">(</span>kbd <span style="color: #b6540f;">"M-i"</span><span style="color: #007f68;">)</span> 'imenu<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgca5d6ae" class="outline-3">
<h3 id="orgca5d6ae"><span class="section-number-3">8.2.</span> Unset <code>C-z</code></h3>
<div class="outline-text-3" id="text-8-2">
<p>
I occasionally fat finger <code>C-z</code> which minizes Emacs when in windowed mode, this is annoying. <code>suspend-frame</code> is also bound to <code>C-x C-z</code> so this can be used in the terminal if it is desired.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org16ddddf"><span style="color: #cf2f4f;">(</span>global-unset-key <span style="color: #007f68;">(</span>kbd <span style="color: #b6540f;">"C-z"</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7f566cc" class="outline-2">
<h2 id="org7f566cc"><span class="section-number-2">9.</span> General prettifying</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org9c2f46d" class="outline-3">
<h3 id="org9c2f46d"><span class="section-number-3">9.1.</span> Font settings</h3>
<div class="outline-text-3" id="text-9-1">
<p>
General font settings
</p>
</div>
<div id="outline-container-org966ce01" class="outline-4">
<h4 id="org966ce01"><span class="section-number-4">9.1.1.</span> Set font size based on screen resolution</h4>
<div class="outline-text-4" id="text-9-1-1">
<p>
Cribbed from somewhere on the Internet
</p>

<p>
Added ETBembo font which needs installing from <a href="https://edwardtufte.github.io/et-book/">https://edwardtufte.github.io/et-book/</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orgc657f74"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">defun</span> <span style="color: #4a7d00;">fontify-frame</span> <span style="color: #007f68;">(</span>frame<span style="color: #007f68;">)</span>
  <span style="color: #a04360; font-style: italic;">"Change the font size based on screen size"</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">interactive</span> <span style="color: #b6540f;">"i"</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">if</span> window-system
      <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">progn</span>
        <span style="color: #5f5fdf;">(</span><span style="color: #007f68; font-weight: bold;">cond</span> <span style="color: #b6540f;">(</span><span style="color: #1f6fbf;">(</span>&gt; <span style="color: #d5206f;">(</span>x-display-pixel-width<span style="color: #d5206f;">)</span> 2000<span style="color: #1f6fbf;">)</span>
               <span style="color: #1f6fbf;">(</span>set-face-attribute 'default nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"Fira Code Retina"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 180<span style="color: #1f6fbf;">)</span>
               <span style="color: #1f6fbf;">(</span>set-face-attribute 'fixed-pitch nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"Fira Code Retina"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 180<span style="color: #1f6fbf;">)</span>
               <span style="color: #1f6fbf;">(</span>set-face-attribute 'variable-pitch nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"ETBembo"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 200<span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span>
              <span style="color: #b6540f;">(</span><span style="color: #1f6fbf;">(</span>&gt; <span style="color: #d5206f;">(</span>x-display-pixel-width<span style="color: #d5206f;">)</span> 1600<span style="color: #1f6fbf;">)</span>
               <span style="color: #1f6fbf;">(</span>set-face-attribute 'default nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"Fira Code Retina"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 120<span style="color: #1f6fbf;">)</span>
               <span style="color: #1f6fbf;">(</span>set-face-attribute 'fixed-pitch nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"Fira Code Retina"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 120<span style="color: #1f6fbf;">)</span>
               <span style="color: #1f6fbf;">(</span>set-face-attribute 'variable-pitch nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"ETBembo"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 140<span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span>
              <span style="color: #b6540f;">(</span>t <span style="color: #1f6fbf;">(</span>set-face-attribute 'default nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"Fira Code Retina"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 100<span style="color: #1f6fbf;">)</span>
                 <span style="color: #1f6fbf;">(</span>set-face-attribute 'fixed-pitch nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"Fira Code Retina"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 100<span style="color: #1f6fbf;">)</span>
                 <span style="color: #1f6fbf;">(</span>set-face-attribute 'variable-pitch nil <span style="color: #1a870f; font-weight: bold;">:font</span> <span style="color: #b6540f;">"ETBembo"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 120<span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Fontify current frame</span>
<span style="color: #cf2f4f;">(</span>fontify-frame nil<span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">;; Fontify any future frames</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">push</span> 'fontify-frame after-make-frame-functions<span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">;; Bind fontify-frame to F12</span>
<span style="color: #cf2f4f;">(</span>global-set-key <span style="color: #007f68;">(</span>kbd <span style="color: #b6540f;">"&lt;f12&gt;"</span><span style="color: #007f68;">)</span> 'fontify-frame<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org10ca7ea" class="outline-4">
<h4 id="org10ca7ea"><span class="section-number-4">9.1.2.</span> Emoji support</h4>
<div class="outline-text-4" id="text-9-1-2">
<p>
From the <a href="Package">ement README</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setf</span> use-default-font-for-symbols nil<span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span>set-fontset-font t 'unicode <span style="color: #b6540f;">"Noto Emoji"</span> nil 'append<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org283f7c7" class="outline-3">
<h3 id="org283f7c7"><span class="section-number-3">9.2.</span> Themeing</h3>
<div class="outline-text-3" id="text-9-2">
</div>
<div id="outline-container-org4bf51c7" class="outline-4">
<h4 id="org4bf51c7"><span class="section-number-4">9.2.1.</span> ef-themes</h4>
<div class="outline-text-4" id="text-9-2-1">
<p>
ef-themes has several very nice themes
<a href="https://protesilaos.com/emacs/ef-themes">https://protesilaos.com/emacs/ef-themes</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">ef-themes</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">disable any themes to avoid any clashes</span>
  <span style="color: #007f68;">(</span>mapc #'disable-theme custom-enabled-themes<span style="color: #007f68;">)</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">two themes to toggle between</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> ef-themes-to-toggle '<span style="color: #cb26a0;">(</span>ef-spring ef-autumn<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> ef-themes-mixed-fonts t            <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Allow mixed fonts (eg. in Org mode code blocks)</span>
        ef-themes-variable-pitch-ui nil<span style="color: #007f68;">)</span>   <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Don't make the whole UI variable pitch, things start to misalign</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">load the theme. using `ef-themes-select` runs `ef-themes-post-load-hook`</span>
  <span style="color: #007f68;">(</span>ef-themes-select 'ef-spring<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>

<p>
Bind <code>&lt;f5&gt;</code> to the toggle function
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orgb30e344"><span style="color: #cf2f4f;">(</span>define-key global-map <span style="color: #007f68;">(</span>kbd <span style="color: #b6540f;">"&lt;f5&gt;"</span><span style="color: #007f68;">)</span> #'ef-themes-toggle<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org70f19b0" class="outline-3">
<h3 id="org70f19b0"><span class="section-number-3">9.3.</span> Modeline</h3>
<div class="outline-text-3" id="text-9-3">
<p>
Customizing the modeline
I should look at making my own modeline at somepoint, until then <code>doom-modeline</code> is a nice default
</p>
</div>

<div id="outline-container-org37f675f" class="outline-4">
<h4 id="org37f675f"><span class="section-number-4">9.3.1.</span> Diminish</h4>
<div class="outline-text-4" id="text-9-3-1">
<p>
This allows you to customize the display of a mode name in the mode line
<code>use-package</code> has support for this
</p>

<p>
It is actually installed after <code>use-package</code> so that it works within package installations
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span>diminish 'buffer-face-mode<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1e841ad" class="outline-4">
<h4 id="org1e841ad"><span class="section-number-4">9.3.2.</span> doom-modeline</h4>
<div class="outline-text-4" id="text-9-3-2">
<p>
This looks nice and is functional. There's plenty of customizations I need to look at
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">doom-modeline</span>
  <span style="color: #1a870f; font-weight: bold;">:ensure</span> t
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>after-init . doom-modeline-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgef06b76" class="outline-3">
<h3 id="orgef06b76"><span class="section-number-3">9.4.</span> all-the-icons</h3>
<div class="outline-text-3" id="text-9-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">all-the-icons</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>

<div id="outline-container-orgb4220d8" class="outline-4">
<h4 id="orgb4220d8"><span class="section-number-4">9.4.1.</span> In dired</h4>
<div class="outline-text-4" id="text-9-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">all-the-icons-dired</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> <span style="color: #007f68;">(</span>all-the-icons<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>dired-mode . all-the-icons-dired-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9462904" class="outline-3">
<h3 id="org9462904"><span class="section-number-3">9.5.</span> <span class="todo TODO">TODO</span> nerd-icons</h3>
<div class="outline-text-3" id="text-9-5">
<p>
I came across <a href="https://github.com/rainstormstudio/nerd-icons.el">https://github.com/rainstormstudio/nerd-icons.el</a> as an alternative to  <a href="#orgef06b76">all-the-icons</a>
</p>
</div>
</div>

<div id="outline-container-org8d70d95" class="outline-3">
<h3 id="org8d70d95"><span class="section-number-3">9.6.</span> variable-pitch-mode</h3>
<div class="outline-text-3" id="text-9-6">
<p>
Modes to use variable pitch mode in: 
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">variable-pitch</span>
  <span style="color: #1a870f; font-weight: bold;">:ensure</span> nil
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>org-mode . variable-pitch-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4ffa84a" class="outline-2">
<h2 id="org4ffa84a"><span class="section-number-2">10.</span> Document modes</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org6d4ce02" class="outline-3">
<h3 id="org6d4ce02"><span class="section-number-3">10.1.</span> pdf-tools</h3>
<div class="outline-text-3" id="text-10-1">
<p>
Viewing PDFs in emacs. I believe this can also annotate them.
<a href="https://github.com/vedang/pdf-tools#about-pdf-tools">https://github.com/vedang/pdf-tools#about-pdf-tools</a>
</p>

<p>
It requires the epdfinfo server to be installed. This is handled automatically on Linux (including WSL), but may not on other platforms.
If this all appears broken then run <a href="pdf-tools-install">pdf-tools-install</a> manually
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">pdf-tools</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>pdf-tools-install<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org30500c2" class="outline-2">
<h2 id="org30500c2"><span class="section-number-2">11.</span> Org Mode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="org">org</span></span></h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-orgf1fd539" class="outline-3">
<h3 id="orgf1fd539"><span class="section-number-3">11.1.</span> htmlize</h3>
<div class="outline-text-3" id="text-11-1">
<p>
Org mode uses this for exporting. Make sure I have a recent version
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">htmlize</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org41e0eca" class="outline-3">
<h3 id="org41e0eca"><span class="section-number-3">11.2.</span> Install and configure</h3>
<div class="outline-text-3" id="text-11-2">
<p>
This <code>use-package</code> configuration is split over multiple source blocks as an experiment in literate programming
</p>

<p>
Here I begin the use-package declaration
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">org</span>
</pre>
</div>
</div>

<div id="outline-container-org4164299" class="outline-4">
<h4 id="org4164299"><span class="section-number-4">11.2.1.</span> Key bindings</h4>
<div class="outline-text-4" id="text-11-2-1">
<p>
Fairly standard key bindings
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #cf2f4f;">(</span><span style="color: #007f68;">(</span><span style="color: #b6540f;">"C-c l"</span> . org-store-link<span style="color: #007f68;">)</span>
       <span style="color: #007f68;">(</span><span style="color: #b6540f;">"C-c a"</span> . org-agenda<span style="color: #007f68;">)</span>
       <span style="color: #007f68;">(</span><span style="color: #b6540f;">"C-c c"</span> . org-capture<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org377f731" class="outline-4">
<h4 id="org377f731"><span class="section-number-4">11.2.2.</span> Customize</h4>
<div class="outline-text-4" id="text-11-2-2">
<p>
Anything which is set using customize rather than just setq
I expect more configuration could be in here
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1a870f; font-weight: bold;">:custom</span>
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="org91b5645"></a>Set org agenda files / paths<br />
<div class="outline-text-5" id="text-11-2-2-1">
<p>
Explicitly not including my notes directory. They are for notes, not organizing todo tasks etc
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span>org-agenda-files '<span style="color: #007f68;">(</span><span style="color: #b6540f;">"~/org"</span> <span style="color: #b6540f;">"~/.emacs.d/emacs.org"</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org45ecaf3" class="outline-4">
<h4 id="org45ecaf3"><span class="section-number-4">11.2.3.</span> Config</h4>
<div class="outline-text-4" id="text-11-2-3">
<p>
Most of the configuration is here
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #1a870f; font-weight: bold;">:config</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org3cc8136"></a>Logging<br />
<div class="outline-text-5" id="text-11-2-3-1">
<p>
Log into drawers
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-log-into-drawer t<span style="color: #cf2f4f;">)</span>
</pre>
</div>

<p>
Log when I reschedule or redeadline to keep me honest
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-log-reschedule 'time<span style="color: #cf2f4f;">)</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-log-redeadline 'time<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org6a31f45"></a>org-todo keywords<br />
<div class="outline-text-5" id="text-11-2-3-2">
<p>
A lot of information here <a href="https://yiufung.net/post/org-mode-hidden-gems-pt4/">https://yiufung.net/post/org-mode-hidden-gems-pt4/</a>
</p>
</div>
<ol class="org-ol">
<li><a id="orgf15438a"></a>Keywords<br />
<div class="outline-text-6" id="text-11-2-3-2-1">
<p>
A good thread of people's ideas <a href="https://www.reddit.com/r/emacs/comments/twlmxy/open_ended_question_what_are_your_orgtodokeywords/">https://www.reddit.com/r/emacs/comments/twlmxy/open_ended_question_what_are_your_orgtodokeywords/</a>
</p>

<p>
For now add NEXT,  STARTED, WAITING and CANCELLED along with timestamps and shortcuts
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-todo-keywords '<span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span>sequence <span style="color: #b6540f;">"TODO(t!/!)"</span>
                                    <span style="color: #b6540f;">"NEXT(n!/!)"</span>
                                    <span style="color: #b6540f;">"STARTED(s!)"</span>
                                    <span style="color: #b6540f;">"WAITING(w@/!)"</span>
                                    <span style="color: #b6540f;">"|"</span>
                                    <span style="color: #b6540f;">"DONE(d!/!)"</span>
                                    <span style="color: #b6540f;">"CANCELLED(c@/!)"</span><span style="color: #cb26a0;">)</span>
                          <span style="color: #cb26a0;">(</span>type <span style="color: #b6540f;">"PROJECT"</span> <span style="color: #b6540f;">"|"</span> <span style="color: #b6540f;">"DONE"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org634c7aa"></a>Ordered tasks<br />
<div class="outline-text-5" id="text-11-2-3-3">
<p>
This is disabled by default
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-enforce-todo-dependencies t
      org-track-ordered-property-with-tag t
      org-agenda-dim-blocked-tasks t
      org-enforce-todo-checkbox-dependencies t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org47b9ea0"></a>Templates<br />
<div class="outline-text-5" id="text-11-2-3-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">key</td>
<td class="org-left">action</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-left">Bookmark. Insert a new bookmark into <code>bookmarks.org</code></td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-capture-templates
      `<span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"b"</span> <span style="color: #b6540f;">"Bookmark"</span> entry <span style="color: #5f5fdf;">(</span>file+headline <span style="color: #b6540f;">"~/org/bookmarks.org"</span> <span style="color: #b6540f;">"Bookmarks"</span><span style="color: #5f5fdf;">)</span>
         ,<span style="color: #5f5fdf;">(</span>concat <span style="color: #b6540f;">"* %?\n"</span>
                  <span style="color: #b6540f;">":PROPERTIES:\n"</span>
                  <span style="color: #b6540f;">":CREATED: %U\n"</span>
                  <span style="color: #b6540f;">":END:\n\n"</span><span style="color: #5f5fdf;">)</span>
         <span style="color: #1a870f; font-weight: bold;">:empty-lines</span> 1<span style="color: #cb26a0;">)</span>
        <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"t"</span> <span style="color: #b6540f;">"TODO"</span> entry <span style="color: #5f5fdf;">(</span>file+headline <span style="color: #b6540f;">"~/org/TODO.org"</span> <span style="color: #b6540f;">"Unreviewed"</span><span style="color: #5f5fdf;">)</span>
         ,<span style="color: #5f5fdf;">(</span>concat <span style="color: #b6540f;">"* TODO %^{Title}\n"</span>
                  <span style="color: #b6540f;">":PROPERTIES:\n"</span>
                  <span style="color: #b6540f;">":CREATED: %U\n"</span>
                  <span style="color: #b6540f;">":END:\n\n"</span>
                  <span style="color: #b6540f;">"%?"</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org2bd82d6"></a>source editing window popup<br />
<div class="outline-text-5" id="text-11-2-3-5">
<p>
when editing source block don't reorganize the frame trying plain at first - using 'display-buffer' so can be configured with the built-in window management
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-src-window-setup 'plain<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd1cf4ef"></a>Prevent accidental deletion of whole sub-trees or similar<br />
<div class="outline-text-5" id="text-11-2-3-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-fold-catch-invisible-edits 'smart<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org7a0a2eb"></a>Inheritance of checkbox toggling<br />
<div class="outline-text-5" id="text-11-2-3-7">
<p>
should parent checkboxes be checked when all children are checked as well?
</p>

<ul class="org-ul">
<li>Non-nil means checkbox statistics counts <i>only the state of direct children</i>.</li>
<li>When nil, <i>all boxes below</i> the cookie are counted.</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-checkbox-hierarchical-statistics t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org976f947"></a>Refiling<br />
<div class="outline-text-5" id="text-11-2-3-8">
<p>
Targets are all agenda files up to 5 levels deep
See also - <a href="https://www.reddit.com/r/emacs/comments/4366f9/how_do_orgrefiletargets_work/">https://www.reddit.com/r/emacs/comments/4366f9/how_do_orgrefiletargets_work/</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-refile-targets
     '<span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span>nil <span style="color: #1a870f; font-weight: bold;">:maxlevel</span> . 9<span style="color: #cb26a0;">)</span>
       <span style="color: #cb26a0;">(</span>org-agenda-files <span style="color: #1a870f; font-weight: bold;">:maxlevel</span> . 9<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>

<p>
Targets start with the file name - allows creating level 1 tasks
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-refile-use-outline-path 'file<span style="color: #cf2f4f;">)</span>
</pre>
</div>

<p>
Give complete target in completion - this works better with company/vertico etc
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-outline-path-complete-in-steps nil<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgd77a943"></a>Styling<br />
<div class="outline-text-5" id="text-11-2-3-9">
<p>
Configuration settings to do with the look of org-mode
</p>
</div>
<ol class="org-ol">
<li><a id="orgea6eaf8"></a>indented mode<br />
<div class="outline-text-6" id="text-11-2-3-9-1">
<p>
Use indented mode for all files where not explicitly turned off could cause performance issues see <a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#Clean-View">org#Clean View</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-startup-indented t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org5d3ea6b"></a>change the ellipsis<br />
<div class="outline-text-6" id="text-11-2-3-9-2">
<p>
Change to something other than <code>...</code> for ease of distinguishing
<a href="http://endlessparentheses.com/changing-the-org-mode-ellipsis.html">http://endlessparentheses.com/changing-the-org-mode-ellipsis.html</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-ellipsis <span style="color: #b6540f;">"&#10549;"</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org80f6cf4"></a>Hide the emphasis markup<br />
<div class="outline-text-6" id="text-11-2-3-9-3">
<p>
Try without - I'm not convinced its a good idea
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;</span><span style="color: #876450; font-style: italic;">(setq org-hide-emphasis-markers t)</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-hide-emphasis-markers nil<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</li>
<li><a id="org4071dbb"></a>Custom agenda<br />
<div class="outline-text-5" id="text-11-2-3-10">
<p>
Put NEXT, STARTED and WAITING  tasks in weekly agenda, even if there is no scheduled or deadline date
</p>

<p>
This is mostly from Prot's video <a href="https://www.youtube.com/watch?v=UqtBXrzXPgQ">https://www.youtube.com/watch?v=UqtBXrzXPgQ</a>
</p>

<p>
Also see this video - I could add habit tracking and more <a href="https://www.youtube.com/watch?v=KZoQ4EkfDPo&amp;t=1s">https://www.youtube.com/watch?v=KZoQ4EkfDPo&amp;t=1s</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> org-agenda-custom-commands
      '<span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"a"</span> <span style="color: #b6540f;">"Agenda"</span>
         <span style="color: #5f5fdf;">(</span>
          <span style="color: #b6540f;">(</span>todo <span style="color: #b6540f;">"STARTED"</span>
                <span style="color: #1f6fbf;">(</span><span style="color: #d5206f;">(</span>org-agenda-overriding-header <span style="color: #b6540f;">"In progress"</span><span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span>
          <span style="color: #b6540f;">(</span>agenda <span style="color: #b6540f;">""</span>
                  <span style="color: #1f6fbf;">(</span><span style="color: #d5206f;">(</span>org-agenda-overriding-header <span style="color: #b6540f;">"Daily Agenda"</span><span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-span 1<span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-deadline-warning-days 0<span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-day-face-function <span style="color: #9435b4;">(</span><span style="color: #007f68; font-weight: bold;">lambda</span> <span style="color: #ae5a30;">(</span>date<span style="color: #ae5a30;">)</span> 'org-agenda-date<span style="color: #9435b4;">)</span><span style="color: #d5206f;">)</span>
                   <span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span>
          <span style="color: #b6540f;">(</span>agenda <span style="color: #b6540f;">""</span>
                  <span style="color: #1f6fbf;">(</span><span style="color: #d5206f;">(</span>org-agenda-overriding-header <span style="color: #b6540f;">"Next three days"</span><span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-start-on-weekday nil<span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-start-day <span style="color: #b6540f;">"+1d"</span><span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-span 3<span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-deadline-warning-days 0<span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span>
          <span style="color: #b6540f;">(</span>agenda <span style="color: #b6540f;">""</span>
                  <span style="color: #1f6fbf;">(</span><span style="color: #d5206f;">(</span>org-agenda-overriding-header <span style="color: #b6540f;">"Upcoming deadlines (+14d)"</span><span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-span 14<span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-show-all-dates nil<span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-time-grid nil<span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-deadline-warning-days 0<span style="color: #d5206f;">)</span>
                   <span style="color: #d5206f;">(</span>org-agenda-entry-types '<span style="color: #9435b4;">(</span><span style="color: #1a870f; font-weight: bold;">:deadline</span><span style="color: #9435b4;">)</span><span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span>
          <span style="color: #b6540f;">(</span>todo <span style="color: #b6540f;">"NEXT"</span>
                <span style="color: #1f6fbf;">(</span><span style="color: #d5206f;">(</span>org-agenda-overriding-header <span style="color: #b6540f;">"Tasks to do next"</span><span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span>
          <span style="color: #b6540f;">(</span>todo <span style="color: #b6540f;">"WAITING"</span>
                <span style="color: #1f6fbf;">(</span><span style="color: #d5206f;">(</span>org-agenda-overriding-header <span style="color: #b6540f;">"Tasks on hold"</span><span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="org17541cb"></a>end config<br />
<div class="outline-text-5" id="text-11-2-3-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #000000; background-color: #ff8f88; font-weight: bold;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgc075d56" class="outline-3">
<h3 id="orgc075d56"><span class="section-number-3">11.3.</span> Other configuration</h3>
<div class="outline-text-3" id="text-11-3">
<p>
Other packages and modules
</p>
</div>
<div id="outline-container-org8e88b77" class="outline-4">
<h4 id="org8e88b77"><span class="section-number-4">11.3.1.</span> OrgTempo</h4>
<div class="outline-text-4" id="text-11-3-1">
<p>
Org mode supports templates. Use <code>C-c C-,</code> to access them.
<code>org-tempo</code> allows quicker insertion eg. the below configuration will insert an elisp src block when <code>&lt; el TAB</code> is pressed
Built into org, but needs loading
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">org-tempo</span>
  <span style="color: #1a870f; font-weight: bold;">:ensure</span> nil
  <span style="color: #1a870f; font-weight: bold;">:after</span> org
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>add-to-list 'org-structure-template-alist '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"el"</span> . <span style="color: #b6540f;">"src emacs-lisp"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3cfc4c7" class="outline-4">
<h4 id="org3cfc4c7"><span class="section-number-4">11.3.2.</span> org-superstar</h4>
<div class="outline-text-4" id="text-11-3-2">
<p>
Make org-mode prettier
<a href="https://github.com/integral-dw/org-superstar-mode">https://github.com/integral-dw/org-superstar-mode</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">org-superstar</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>org-mode . org-superstar-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org86669d1" class="outline-4">
<h4 id="org86669d1"><span class="section-number-4">11.3.3.</span> <span class="todo TODO">TODO</span> all old code - move, delete etc</h4>
<div class="outline-text-4" id="text-11-3-3">
<p>
From <a href="https://systemcrafters.net/emacs-from-scratch/org-mode-basics/">SystemCrafters</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orgcc5f78b">    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(defun dw/org-mode-setup ()</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">(org-indent-mode)</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">(variable-pitch-mode 1)</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">(auto-fill-mode 0)</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">(visual-line-mode 1)</span>

  <span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(use-package org</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">:hook (org-mode . dw/org-mode-setup)</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">:config</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">(setq org-ellipsis " &#9662;"</span>
  <span style="color: #876450; font-style: italic;">;;           </span><span style="color: #876450; font-style: italic;">org-hide-emphasis-markers t))</span>

  <span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(use-package org-bullets</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">:after org</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">:hook (org-mode . org-bullets-mode)</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">:custom</span>
  <span style="color: #876450; font-style: italic;">;;     </span><span style="color: #876450; font-style: italic;">(org-bullets-bullet-list '("&#9673;" "&#9675;" "&#9679;" "&#9675;" "&#9679;" "&#9675;" "&#9679;")))</span>

  <span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">;; Replace list hyphen with dot</span>
  <span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(font-lock-add-keywords 'org-mode</span>
  <span style="color: #876450; font-style: italic;">;;                           </span><span style="color: #876450; font-style: italic;">'(("^ *\\([-]\\) "</span>
  <span style="color: #876450; font-style: italic;">;;                             </span><span style="color: #876450; font-style: italic;">(0 (prog1 () (compose-region (match-beginning 1) (match-end 1) "&#8226;"))))))</span>

  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">;; Make sure org-indent face is available</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(require 'org-indent)</span>

  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">;; Ensure that anything that should be fixed-pitch in Org files appears that way</span>
<span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(set-face-attribute 'org-block nil :foreground nil :inherit 'fixed-pitch)</span>
<span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(set-face-attribute 'org-code nil   :inherit '(shadow fixed-pitch))</span>
<span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(set-face-attribute 'org-indent nil :inherit '(org-hide fixed-pitch))</span>
<span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(set-face-attribute 'org-verbatim nil :inherit '(shadow fixed-pitch))</span>
<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(set-face-attribute 'org-special-keyword nil :inherit '(font-lock-comment-face fixed-pitch))</span>
<span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(set-face-attribute 'org-meta-line nil :inherit '(font-lock-comment-face fixed-pitch))</span>
<span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">(set-face-attribute 'org-checkbox nil :inherit 'fixed-pitch)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org9402eb4" class="outline-2">
<h2 id="org9402eb4"><span class="section-number-2">12.</span> Completion</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org32302de" class="outline-3">
<h3 id="org32302de"><span class="section-number-3">12.1.</span> <span class="todo TODO">TODO</span> corfu</h3>
<div class="outline-text-3" id="text-12-1">
<p>
Needs tweaking so it doesn't take so long in eglot
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">corfu</span>
  <span style="color: #1a870f; font-weight: bold;">:init</span>
  <span style="color: #007f68;">(</span>global-corfu-mode<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> corfu-auto t
        corfu-auto-delay 0.2
        corfu-auto-prefix 0<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Use Dabbrev with Corfu</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">dabbrev</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Swap M-/ and C-M-/</span>
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-/"</span> . dabbrev-completion<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-M-/"</span> . dabbrev-expand<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Other useful Dabbrev configurations.</span>
  <span style="color: #1a870f; font-weight: bold;">:custom</span>
  <span style="color: #007f68;">(</span>dabbrev-ignored-buffer-regexps '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"\\.</span><span style="color: #1f6fbf;">\\</span><span style="color: #cb26a0;">(?:</span><span style="color: #b6540f;">pdf</span><span style="color: #1f6fbf;">\\</span><span style="color: #cb26a0;">|</span><span style="color: #b6540f;">jpe?g</span><span style="color: #1f6fbf;">\\</span><span style="color: #cb26a0;">|</span><span style="color: #b6540f;">png</span><span style="color: #1f6fbf;">\\</span><span style="color: #cb26a0;">)</span><span style="color: #b6540f;">\\'"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org40495c4" class="outline-3">
<h3 id="org40495c4"><span class="section-number-3">12.2.</span> vertico</h3>
<div class="outline-text-3" id="text-12-2">
<p>
vertical completion, tying into emacs's default completion
<a href="https://github.com/minad/vertico">https://github.com/minad/vertico</a>
some ideas <a href="https://kristofferbalintona.me/posts/202202211546/#vertico">https://kristofferbalintona.me/posts/202202211546/#vertico</a>
and <a href="https://github.com/skyler544/rune-emacs-config/blob/main/modules/movec.el">https://github.com/skyler544/rune-emacs-config/blob/main/modules/movec.el</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">vertico</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>vertico-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org10ef7a0" class="outline-3">
<h3 id="org10ef7a0"><span class="section-number-3">12.3.</span> vertico-directory</h3>
<div class="outline-text-3" id="text-12-3">
<p>
find-file enhancements for vertico. Comes bundled with vertico
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">vertico-directory</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> vertico
  <span style="color: #1a870f; font-weight: bold;">:ensure</span> nil
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #1a870f; font-weight: bold;">:map</span> vertico-map
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"RET"</span> . vertico-directory-enter<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"DEL"</span> . vertico-directory-delete-char<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-DEL"</span> . vertico-directory-delete-word<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org43e5136" class="outline-3">
<h3 id="org43e5136"><span class="section-number-3">12.4.</span> marginalia</h3>
<div class="outline-text-3" id="text-12-4">
<p>
extra information for minibuffer completions
<a href="https://github.com/minad/marginalia">https://github.com/minad/marginalia</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Enable richer annotations using the Marginalia package</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">marginalia</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Either bind `marginalia-cycle` globally or only in the minibuffer</span>
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #876450; font-style: italic;">;</span><span style="color: #876450; font-style: italic;">("M-A" . marginalia-cycle)</span>
         <span style="color: #1a870f; font-weight: bold;">:map</span> minibuffer-local-map
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-A"</span> . marginalia-cycle<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>

  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">The :init configuration is always executed (Not lazy!)</span>
  <span style="color: #1a870f; font-weight: bold;">:init</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Must be in the :init section of use-package such that the mode gets</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">enabled right away. Note that this forces loading the package.</span>
  <span style="color: #007f68;">(</span>marginalia-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6c5c71a" class="outline-3">
<h3 id="org6c5c71a"><span class="section-number-3">12.5.</span> all-the-icons-completion</h3>
<div class="outline-text-3" id="text-12-5">
<p>
pretty iccons in minibuffer completion
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">all-the-icons-completion</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> <span style="color: #007f68;">(</span>marginalia all-the-icons<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>marginalia-mode . all-the-icons-completion-marginalia-setup<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:init</span>
  <span style="color: #007f68;">(</span>all-the-icons-completion-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org33ec641" class="outline-3">
<h3 id="org33ec641"><span class="section-number-3">12.6.</span> orderless</h3>
<div class="outline-text-3" id="text-12-6">
<p>
A custom completion style, like helm's style <a href="https://github.com/oantolin/orderless">https://github.com/oantolin/orderless</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">orderless</span>
  <span style="color: #1a870f; font-weight: bold;">:custom</span>
  <span style="color: #007f68;">(</span>completion-styles '<span style="color: #cb26a0;">(</span>orderless basic<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>completion-category-overrides '<span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>file <span style="color: #b6540f;">(</span>styles basic partial-completion<span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9d8d2c9" class="outline-3">
<h3 id="org9d8d2c9"><span class="section-number-3">12.7.</span> <span class="todo TODO">TODO</span> consult</h3>
<div class="outline-text-3" id="text-12-7">
<p>
uses the built-in <a href="completing-read">completing-read</a> function to suggest completions. Particularly useful is <a href="consult-buffer">consult-buffer</a>
<a href="https://github.com/minad/consult">https://github.com/minad/consult</a>
</p>

<p>
This is just the config from the README as I get used to it.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Example configuration for Consult</span>
  <span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">consult</span>
    <span style="color: #1a870f; font-weight: bold;">:demand</span> t
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Replace bindings. Lazily loaded due by `</span><span style="color: #d03003; font-style: italic;">use-package</span><span style="color: #876450; font-style: italic;">'.</span>
    <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">C-c bindings (mode-specific-map)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c h"</span> . consult-history<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c m"</span> . consult-mode-command<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c k"</span> . consult-kmacro<span style="color: #cb26a0;">)</span>
           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">C-x bindings (ctl-x-map)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-x M-:"</span> . consult-complex-command<span style="color: #cb26a0;">)</span>     <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. repeat-complex-command</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-x b"</span> . consult-buffer<span style="color: #cb26a0;">)</span>                <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. switch-to-buffer</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-x 4 b"</span> . consult-buffer-other-window<span style="color: #cb26a0;">)</span> <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. switch-to-buffer-other-window</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-x 5 b"</span> . consult-buffer-other-frame<span style="color: #cb26a0;">)</span>  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. switch-to-buffer-other-frame</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-x r b"</span> . consult-bookmark<span style="color: #cb26a0;">)</span>            <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. bookmark-jump</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-x p b"</span> . consult-project-buffer<span style="color: #cb26a0;">)</span>      <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. project-switch-to-buffer</span>
           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Custom M-# bindings for fast register access</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-#"</span> . consult-register-load<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-'"</span> . consult-register-store<span style="color: #cb26a0;">)</span>          <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. abbrev-prefix-mark (unrelated)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-M-#"</span> . consult-register<span style="color: #cb26a0;">)</span>
           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Other custom bindings</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-y"</span> . consult-yank-pop<span style="color: #cb26a0;">)</span>                <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. yank-pop</span>
           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">M-g bindings (goto-map)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g e"</span> . consult-compile-error<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g f"</span> . consult-flymake<span style="color: #cb26a0;">)</span>               <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Alternative: consult-flycheck</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g g"</span> . consult-goto-line<span style="color: #cb26a0;">)</span>             <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. goto-line</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g M-g"</span> . consult-goto-line<span style="color: #cb26a0;">)</span>           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. goto-line</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g o"</span> . consult-outline<span style="color: #cb26a0;">)</span>               <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Alternative: consult-org-heading</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g m"</span> . consult-mark<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g k"</span> . consult-global-mark<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g i"</span> . consult-imenu<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-i"</span> . consult-imenu<span style="color: #cb26a0;">)</span> <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">my own preferred binding for imenu</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-g I"</span> . consult-imenu-multi<span style="color: #cb26a0;">)</span>
           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">M-s bindings (search-map)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s d"</span> . consult-find<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s D"</span> . consult-locate<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s g"</span> . consult-grep<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s G"</span> . consult-git-grep<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s r"</span> . consult-ripgrep<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s l"</span> . consult-line<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s L"</span> . consult-line-multi<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s m"</span> . consult-multi-occur<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s k"</span> . consult-keep-lines<span style="color: #cb26a0;">)</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s u"</span> . consult-focus-lines<span style="color: #cb26a0;">)</span>
           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Isearch integration</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s e"</span> . consult-isearch-history<span style="color: #cb26a0;">)</span>
           <span style="color: #1a870f; font-weight: bold;">:map</span> isearch-mode-map
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-e"</span> . consult-isearch-history<span style="color: #cb26a0;">)</span>         <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. isearch-edit-string</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s e"</span> . consult-isearch-history<span style="color: #cb26a0;">)</span>       <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. isearch-edit-string</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s l"</span> . consult-line<span style="color: #cb26a0;">)</span>                  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">needed by consult-line to detect isearch</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s L"</span> . consult-line-multi<span style="color: #cb26a0;">)</span>            <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">needed by consult-line to detect isearch</span>
           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Minibuffer history</span>
           <span style="color: #1a870f; font-weight: bold;">:map</span> minibuffer-local-map
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-s"</span> . consult-history<span style="color: #cb26a0;">)</span>                 <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. next-matching-history-element</span>
           <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-r"</span> . consult-history<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>                <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">orig. previous-matching-history-element</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Enable automatic preview at point in the *Completions* buffer. This is</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">relevant when you use the default completion UI.</span>
    <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>completion-list-mode . consult-preview-at-point-mode<span style="color: #007f68;">)</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">The :init configuration is always executed (Not lazy)</span>
    <span style="color: #1a870f; font-weight: bold;">:init</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Optionally configure the register formatting. This improves the register</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">preview for `</span><span style="color: #d03003; font-style: italic;">consult-register</span><span style="color: #876450; font-style: italic;">', `</span><span style="color: #d03003; font-style: italic;">consult-register-load</span><span style="color: #876450; font-style: italic;">',</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">`</span><span style="color: #d03003; font-style: italic;">consult-register-store</span><span style="color: #876450; font-style: italic;">' and the Emacs built-ins.</span>
    <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> register-preview-delay 0.5
          register-preview-function #'consult-register-format<span style="color: #007f68;">)</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Optionally tweak the register preview window.</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">This adds thin lines, sorting and hides the mode line of the window.</span>
    <span style="color: #007f68;">(</span>advice-add #'register-preview <span style="color: #1a870f; font-weight: bold;">:override</span> #'consult-register-window<span style="color: #007f68;">)</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Use Consult to select xref locations with preview</span>
    <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> xref-show-xrefs-function #'consult-xref
          xref-show-definitions-function #'consult-xref<span style="color: #007f68;">)</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Configure other variables and modes in the :config section,</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">after lazily loading the package.</span>
    <span style="color: #1a870f; font-weight: bold;">:config</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Optionally configure preview. The default value</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">is 'any, such that any key triggers the preview.</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(setq consult-preview-key 'any)</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(setq consult-preview-key "M-.")</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(setq consult-preview-key '("S-&lt;down&gt;" "S-&lt;up&gt;"))</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">For some commands and buffer sources it is useful to configure the</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">:preview-key on a per-command basis using the `</span><span style="color: #d03003; font-style: italic;">consult-customize</span><span style="color: #876450; font-style: italic;">' macro.</span>
    <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">consult-customize</span>
     consult-theme <span style="color: #1a870f; font-weight: bold;">:preview-key</span> '<span style="color: #cb26a0;">(</span><span style="color: #1a870f; font-weight: bold;">:debounce</span> 0.2 any<span style="color: #cb26a0;">)</span>
     consult-ripgrep consult-git-grep consult-grep
     consult-bookmark consult-recent-file consult-xref
     consult--source-bookmark consult--source-file-register
     consult--source-recent-file consult--source-project-recent-file
     <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">:preview-key "M-."</span>
     <span style="color: #1a870f; font-weight: bold;">:preview-key</span> '<span style="color: #cb26a0;">(</span><span style="color: #1a870f; font-weight: bold;">:debounce</span> 0.4 any<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Optionally configure the narrowing key.</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Both &lt; and C-+ work reasonably well.</span>
    <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> consult-narrow-key <span style="color: #b6540f;">"&lt;"</span><span style="color: #007f68;">)</span> <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(kbd "C-+")</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Optionally make narrowing help available in the minibuffer.</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">You may want to use `</span><span style="color: #d03003; font-style: italic;">embark-prefix-help-command</span><span style="color: #876450; font-style: italic;">' or which-key instead.</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(define-key consult-narrow-map (vconcat consult-narrow-key "?") #'consult-narrow-help)</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">By default `</span><span style="color: #d03003; font-style: italic;">consult-project-function</span><span style="color: #876450; font-style: italic;">' uses `</span><span style="color: #d03003; font-style: italic;">project-root</span><span style="color: #876450; font-style: italic;">' from project.el.</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Optionally configure a different project root function.</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">There are multiple reasonable alternatives to chose from.</span>
    <span style="color: #876450; font-style: italic;">;;;; </span><span style="color: #876450; font-style: italic;">1. project.el (the default)</span>
<span style="color: #876450; font-style: italic;">;;    </span><span style="color: #876450; font-style: italic;">(setq consult-project-function #'consult--default-project--function)</span>
    <span style="color: #876450; font-style: italic;">;;;; </span><span style="color: #876450; font-style: italic;">2. projectile.el (projectile-project-root)</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(autoload 'projectile-project-root "projectile")</span>

    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(setq consult-project-function (lambda (_) (projectile-project-root)))</span>
    <span style="color: #876450; font-style: italic;">;;;; </span><span style="color: #876450; font-style: italic;">3. vc.el (vc-root-dir)</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(setq consult-project-function (lambda (_) (vc-root-dir)))</span>
    <span style="color: #876450; font-style: italic;">;;;; </span><span style="color: #876450; font-style: italic;">4. locate-dominating-file</span>
    <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">(setq consult-project-function (lambda (_) (locate-dominating-file "." ".git")))</span>
  <span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org911fe62" class="outline-3">
<h3 id="org911fe62"><span class="section-number-3">12.8.</span> Embark</h3>
<div class="outline-text-3" id="text-12-8">
<p>
<a href="https://github.com/oantolin/embark">https://github.com/oantolin/embark</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">embark</span>

  <span style="color: #1a870f; font-weight: bold;">:bind</span>
  <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-."</span> . embark-act<span style="color: #cb26a0;">)</span>         <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">pick some comfortable binding</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-;"</span> . embark-dwim<span style="color: #cb26a0;">)</span>        <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">good alternative: M-.</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-h B"</span> . embark-bindings<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span> <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">alternative for `</span><span style="color: #d03003; font-style: italic;">describe-bindings</span><span style="color: #876450; font-style: italic;">'</span>

  <span style="color: #1a870f; font-weight: bold;">:init</span>

  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Optionally replace the key help with a completing-read interface</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> prefix-help-command #'embark-prefix-help-command<span style="color: #007f68;">)</span>

  <span style="color: #1a870f; font-weight: bold;">:config</span>

  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Hide the mode line of the Embark live/completions buffers</span>
  <span style="color: #007f68;">(</span>add-to-list 'display-buffer-alist
               '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"\\`\\*Embark Collect </span><span style="color: #1f6fbf;">\\</span><span style="color: #cb26a0;">(</span><span style="color: #b6540f;">Live</span><span style="color: #1f6fbf;">\\</span><span style="color: #cb26a0;">|</span><span style="color: #b6540f;">Completions</span><span style="color: #1f6fbf;">\\</span><span style="color: #cb26a0;">)</span><span style="color: #b6540f;">\\*"</span>
                 nil
                 <span style="color: #5f5fdf;">(</span>window-parameters <span style="color: #b6540f;">(</span>mode-line-format . none<span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Consult users will also want the embark-consult package.</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">embark-consult</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> <span style="color: #007f68;">(</span>embark consult<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:demand</span> t <span style="color: #876450; font-style: italic;">; </span><span style="color: #876450; font-style: italic;">only necessary if you have the hook below</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">if you want to have consult previews as you move around an</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">auto-updating embark collect buffer</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span>
  <span style="color: #007f68;">(</span>embark-collect-mode . consult-preview-at-point-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea5cb18" class="outline-3">
<h3 id="orgea5cb18"><span class="section-number-3">12.9.</span> <span class="todo TODO">TODO</span> Snippets</h3>
<div class="outline-text-3" id="text-12-9">
<p>
I need to sort out how to use snippets
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #876450; font-style: italic;">;;</span><span style="color: #876450; font-style: italic;">(use-package yasnippet</span>
  <span style="color: #876450; font-style: italic;">;;  </span><span style="color: #876450; font-style: italic;">:config</span>
<span style="color: #876450; font-style: italic;">;;    </span><span style="color: #876450; font-style: italic;">(yas-global-mode 1))</span>

  <span style="color: #876450; font-style: italic;">;;</span><span style="color: #876450; font-style: italic;">(use-package yasnippet-snippets</span>
<span style="color: #876450; font-style: italic;">;;</span>
<span style="color: #876450; font-style: italic;">;;</span><span style="color: #876450; font-style: italic;">:after yasnippet)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0639507" class="outline-2">
<h2 id="org0639507"><span class="section-number-2">13.</span> Magit</h2>
<div class="outline-text-2" id="text-13">
<p>
The only way to use git
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orgfb82a62"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">magit</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ac9527" class="outline-2">
<h2 id="org1ac9527"><span class="section-number-2">14.</span> Misc modes</h2>
<div class="outline-text-2" id="text-14">
<p>
A collection of miscellaneous modes which don't require extensive configuration
</p>
</div>

<div id="outline-container-orgce052ba" class="outline-3">
<h3 id="orgce052ba"><span class="section-number-3">14.1.</span> Which Key</h3>
<div class="outline-text-3" id="text-14-1">
<p>
This minor mode shows what keys are available next in the minibuffer
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">which-key</span>
  <span style="color: #1a870f; font-weight: bold;">:diminish</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> which-key-idle-delay 0.3<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> which-key-popup-type 'minibuffer<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>which-key-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6614dbe" class="outline-3">
<h3 id="org6614dbe"><span class="section-number-3">14.2.</span> rainbow-delimiters</h3>
<div class="outline-text-3" id="text-14-2">
<p>
This minor mode makes delimiters, like braces, which match, the same colour.
I've turned it on for programming modes.
</p>

<p>
Note: in the hook section the cons cell is required because the package name doesn't equal the mode name.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">rainbow-delimiters</span>
  <span style="color: #1a870f; font-weight: bold;">:diminish</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>prog-mode . rainbow-delimiters-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaabacb4" class="outline-3">
<h3 id="orgaabacb4"><span class="section-number-3">14.3.</span> pulsar</h3>
<div class="outline-text-3" id="text-14-3">
<p>
Rather than beacon, use <code>pulsar</code> <a href="https://protesilaos.com/emacs/pulsar">https://protesilaos.com/emacs/pulsar</a> which uses the built-in <code>pulse</code> library so may also work better
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">pulsar</span>
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-x l"</span> . pulsar-pulse-line<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-x L"</span> . pulsar-highlight-dwim<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span>next-error . pulsar-pulse-line<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span>minibuffer-setup . pulsar-pulse-line<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>consult-after-jump imenu-after-jump<span style="color: #5f5fdf;">)</span> . pulsar-recenter-middle<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>consult-after-jump imenu-after-jump<span style="color: #5f5fdf;">)</span> . pulsar-reveal-entry<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> pulsar-pulse t
        pulsar-delay 0.05
        pulsar-iterations 50
        pulsar-face 'pulsar-magenta
        pulsar-highlight-face 'pulsar-yellow<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>pulsar-global-mode 1<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbacb88f" class="outline-3">
<h3 id="orgbacb88f"><span class="section-number-3">14.4.</span> <span class="todo TODO">TODO</span> Avy</h3>
<div class="outline-text-3" id="text-14-4">
<p>
<a href="https://github.com/abo-abo/avy">https://github.com/abo-abo/avy</a>
<a href="https://karthinks.com/software/avy-can-do-anything">This article</a> is a great overview of how <code>avy</code> can be used
</p>

<p>
More config desired - I want to define some custom actions.
Should they be here or in the packages they make use of?
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">avy</span>
    <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-;"</span> . avy-goto-char-timer<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8e396c8" class="outline-3">
<h3 id="org8e396c8"><span class="section-number-3">14.5.</span> lin to hightlight lines</h3>
<div class="outline-text-3" id="text-14-5">
<p>
<a href="https://protesilaos.com/emacs/lin">=lin</a>= is a package from <a href="https://protesilaos.com/emacs/"><code>prot</code></a> which modifies <code>hl-line-mode</code> faces for the modes in <code>lin-mode-hooks</code>
The default list of modes is good for now
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">lin</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> lin-mode-hooks
        '<span style="color: #cb26a0;">(</span>bongo-mode-hook
           dired-mode-hook
           elfeed-search-mode-hook
           git-rebase-mode-hook
           grep-mode-hook
           ibuffer-mode-hook
           ilist-mode-hook
           ledger-report-mode-hook
           log-view-mode-hook
           magit-log-mode-hook
           mu4e-headers-mode
           notmuch-search-mode-hook
           notmuch-tree-mode-hook
           occur-mode-hook
           org-agenda-mode-hook
           pdf-outline-buffer-mode-hook
           proced-mode-hook
           tabulated-list-mode-hook
           <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">my additions</span>
           ement-room-mode-hook
           ement-room-list-mode-hook<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>lin-global-mode 1<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbac7084" class="outline-3">
<h3 id="orgbac7084"><span class="section-number-3">14.6.</span> helpful</h3>
<div class="outline-text-3" id="text-14-6">
<p>
This is really nice improvement to the help system.
It adds source code, better formatting, properties, keymap information, integrated tooling, alias info and more
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">helpful</span>
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">[</span>remap describe-function<span style="color: #5f5fdf;">]</span> . helpful-callable<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">[</span>remap describe-key<span style="color: #5f5fdf;">]</span> . helpful-key<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">[</span>remap describe-variable<span style="color: #5f5fdf;">]</span> . helpful-variable<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">[</span>remap describe-command<span style="color: #5f5fdf;">]</span> . helpful-command<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c C-d"</span> . helpful-at-point<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgff1aff9" class="outline-2">
<h2 id="orgff1aff9"><span class="section-number-2">15.</span> Windows</h2>
<div class="outline-text-2" id="text-15">
</div>
<div id="outline-container-org99b1187" class="outline-3">
<h3 id="org99b1187"><span class="section-number-3">15.1.</span> ace-window</h3>
<div class="outline-text-3" id="text-15-1">
<p>
<a href="https://github.com/abo-abo/ace-window">https://github.com/abo-abo/ace-window</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">ace-window</span>
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-o"</span> . ace-window<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:custom-face</span>
  <span style="color: #007f68;">(</span>aw-leading-char-face <span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>t <span style="color: #b6540f;">(</span><span style="color: #1a870f; font-weight: bold;">:foreground</span> <span style="color: #b6540f;">"red"</span> <span style="color: #1a870f; font-weight: bold;">:height</span> 3.0 <span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org31e1d6e" class="outline-3">
<h3 id="org31e1d6e"><span class="section-number-3">15.2.</span> golden-ratio</h3>
<div class="outline-text-3" id="text-15-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">golden-ratio</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org960e534" class="outline-3">
<h3 id="org960e534"><span class="section-number-3">15.3.</span> <span class="todo TODO">TODO</span> window configuration</h3>
<div class="outline-text-3" id="text-15-3">
<p>
This is a work in progress&#x2026;
Configure where and when windows open. See <a href="https://www.masteringemacs.org/article/demystifying-emacs-window-manager">https://www.masteringemacs.org/article/demystifying-emacs-window-manager</a> for lots of information
</p>
</div>
<div id="outline-container-org693076c" class="outline-4">
<h4 id="org693076c"><span class="section-number-4">15.3.1.</span> Buffer display settings</h4>
<div class="outline-text-4" id="text-15-3-1">
<p>
These settings control some basics of buffer opening.
<a href="switch-to-buffer-in-dedicated-window"><code>switch-to-buffer-in-dedicated-window</code></a> sets determines how to behave if you attempt to display a buffer in a dedicated window. The default <code>nil</code> errors, I change it to <code>pop</code> to make the buffer be displayed in another window.
</p>

<p>
<a href="switch-to-buffer-obey-display-actions"><code>switch-to-buffer-obey-display-actions</code></a> forces <code>switch-to-buffer</code> to follow the display buffer actions. This makes for a more consistent bufffer switching experience and makes any misbehaving functions which use <code>switch-to-buffer</code> instead of <code>display-buffer</code> to behave well
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> switch-to-buffer-in-dedicated-window 'pop
      switch-to-buffer-obey-display-actions t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
<p>
***side windows
Side windows are full height or width windows affixed to the side of the frame.
<code>window-sides-slots</code> sets how many can be attached to each side
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">left, top, right, bottom</span>
<span style="color: #876450; font-style: italic;">;;</span><span style="color: #876450; font-style: italic;">(setq window-sides-slots '(0 0 1 0))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc3e1791" class="outline-4">
<h4 id="orgc3e1791"><span class="section-number-4">15.3.2.</span> display-buffer-alist</h4>
<div class="outline-text-4" id="text-15-3-2">
<p>
This is the core of window placement control, and where I will need to do the most tweaking.
</p>
</div>

<ol class="org-ol">
<li><a id="org65e0178"></a>reset<br />
<div class="outline-text-5" id="text-15-3-2-1">
<p>
First make sure there's nothing in the list (the default situation)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> display-buffer-alist nil<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgc5710fc"></a>Help<br />
<div class="outline-text-5" id="text-15-3-2-2">
<p>
I want to reuse any current windows for help buffers, and open a new window if necessary
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span>add-to-list 'display-buffer-alist
 '<span style="color: #007f68;">(</span><span style="color: #b6540f;">"\\*Help\\*"</span>
   <span style="color: #cb26a0;">(</span>display-buffer-reuse-window display-buffer-pop-up-window<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span>inhibit-same-window . nil<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgf429549"></a>shells<br />
<div class="outline-text-5" id="text-15-3-2-3">
<p>
place them at the bottom, with a window height of no more than 30% of the size of the frame
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span>add-to-list 'display-buffer-alist
  '<span style="color: #007f68;">(</span><span style="color: #b6540f;">"\\*e?shell"</span> display-buffer-in-direction
    <span style="color: #cb26a0;">(</span>direction . bottom<span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span>window . root<span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span>window-height . 0.3<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org42b84d9"></a><span class="todo TODO">TODO</span> other-frame<br />
<div class="outline-text-5" id="text-15-3-2-4">
<p>
Open utility windows in another frame if available  - mainly so I can have them on my other screen
TODO - don't switch  if it is a jest window
TODO - add ag
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span>add-to-list 'display-buffer-alist
          `<span style="color: #007f68;">(</span>,<span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">rx</span> <span style="color: #5f5fdf;">(</span>| <span style="color: #b6540f;">"*compilation*"</span> <span style="color: #b6540f;">"*grep*"</span> <span style="color: #b6540f;">"*jest*"</span> <span style="color: #b6540f;">"*Flycheck errors*"</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
            <span style="color: #cb26a0;">(</span>display-buffer-reuse-window display-buffer-use-some-frame<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orgeb2a057"></a><span class="todo TODO">TODO</span> display tests to the right of the current window<br />
<div class="outline-text-5" id="text-15-3-2-5">
<p>
Currently only for typescript tests. Add more if I work with other languages.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;</span><span style="color: #876450; font-style: italic;">(add-to-list 'display-buffer-alist</span>
 <span style="color: #876450; font-style: italic;">;        </span><span style="color: #876450; font-style: italic;">`("test.ts"</span>
  <span style="color: #876450; font-style: italic;">;         </span><span style="color: #876450; font-style: italic;">display-buffer-in-direction</span>
   <span style="color: #876450; font-style: italic;">;        </span><span style="color: #876450; font-style: italic;">(direction . right)))</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org1ef2876"></a><span class="todo TODO">TODO</span> how can I enforce preferred layout?<br /></li>
</ol>
</li>
</ol>
</div>
</div>
<div id="outline-container-org9330f24" class="outline-3">
<h3 id="org9330f24"><span class="section-number-3">15.4.</span> <span class="todo TODO">TODO</span> Window Commander</h3>
<div class="outline-text-3" id="text-15-4">
<p>
This looks useful, but I'm not using it yet, so disabled for now
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">window-commander</span>
  <span style="color: #1a870f; font-weight: bold;">:disabled</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>wincom-mode<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>wincom-display-mode-line<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org25a0dc6" class="outline-2">
<h2 id="org25a0dc6"><span class="section-number-2">16.</span> Programming</h2>
<div class="outline-text-2" id="text-16">
</div>
<div id="outline-container-org0342f8c" class="outline-3">
<h3 id="org0342f8c"><span class="section-number-3">16.1.</span> Typescript</h3>
<div class="outline-text-3" id="text-16-1">
<p>
Install typescript mode as it is not included, despite typescript-ts-mode being included
This will set up <code>auto-mode-alist</code> for me too, which can be remapped if treesit is available
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">typescript-mode</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org10f5b7d" class="outline-3">
<h3 id="org10f5b7d"><span class="section-number-3">16.2.</span> Treesitter</h3>
<div class="outline-text-3" id="text-16-2">
<p>
This is all from Mastering Emacs
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">emacs</span>
  <span style="color: #1a870f; font-weight: bold;">:ensure</span> nil
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Some default grammar definition sources</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> treesit-language-source-alist
   '<span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>bash <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-bash"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>cmake <span style="color: #b6540f;">"https://github.com/uyha/tree-sitter-cmake"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>css <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-css"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>elisp <span style="color: #b6540f;">"https://github.com/Wilfred/tree-sitter-elisp"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>go <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-go"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>html <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-html"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>javascript <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-javascript"</span> <span style="color: #b6540f;">"master"</span> <span style="color: #b6540f;">"src"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>json <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-json"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>make <span style="color: #b6540f;">"https://github.com/alemuller/tree-sitter-make"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>markdown <span style="color: #b6540f;">"https://github.com/ikatyang/tree-sitter-markdown"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>python <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-python"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>toml <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-toml"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>tsx <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-typescript"</span> <span style="color: #b6540f;">"master"</span> <span style="color: #b6540f;">"tsx/src"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>typescript <span style="color: #b6540f;">"https://github.com/tree-sitter/tree-sitter-typescript"</span> <span style="color: #b6540f;">"master"</span> <span style="color: #b6540f;">"typescript/src"</span><span style="color: #5f5fdf;">)</span>
     <span style="color: #5f5fdf;">(</span>yaml <span style="color: #b6540f;">"https://github.com/ikatyang/tree-sitter-yaml"</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Remap some of the modes</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> major-mode-remap-alist
        '<span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>yaml-mode . yaml-ts-mode<span style="color: #5f5fdf;">)</span>
          <span style="color: #5f5fdf;">(</span>bash-mode . bash-ts-mode<span style="color: #5f5fdf;">)</span>
          <span style="color: #5f5fdf;">(</span>js2-mode . js-ts-mode<span style="color: #5f5fdf;">)</span>
          <span style="color: #5f5fdf;">(</span>typescript-mode . typescript-ts-mode<span style="color: #5f5fdf;">)</span>
          <span style="color: #5f5fdf;">(</span>json-mode . json-ts-mode<span style="color: #5f5fdf;">)</span>
          <span style="color: #5f5fdf;">(</span>css-mode . css-ts-mode<span style="color: #5f5fdf;">)</span>
          <span style="color: #5f5fdf;">(</span>python-mode . python-ts-mode<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
<div id="outline-container-orgf447bde" class="outline-4">
<h4 id="orgf447bde"><span class="section-number-4">16.2.1.</span> <span class="todo TODO">TODO</span> Combobulate</h4>
<div class="outline-text-4" id="text-16-2-1">
<p>
Combobulate looks really useful. I'll look into it more when I'm doing more programming which makes use of Treesitter
Maybe it'll make IntelliJ style refactoring easier
</p>
</div>
</div>
</div>

<div id="outline-container-orgbe517d9" class="outline-3">
<h3 id="orgbe517d9"><span class="section-number-3">16.3.</span> Jest</h3>
<div class="outline-text-3" id="text-16-3">
<p>
<a href="https://github.com/rymndhng/jest-test-mode">https://github.com/rymndhng/jest-test-mode</a>
Does not require projectile, so it wins
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">jest-test-mode</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> <span style="color: #007f68;">(</span>typescript-ts-mode<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:commands</span> jest-test-mode
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>typescript-ts-mode typescript-mode js-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd1fad6e" class="outline-3">
<h3 id="orgd1fad6e"><span class="section-number-3">16.4.</span> prettier</h3>
<div class="outline-text-3" id="text-16-4">
<p>
Use prettier to format JavaScript and TypeScript on save. Uses the project's settings
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">prettier-js</span>
  <span style="color: #1a870f; font-weight: bold;">:diminish</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>typescript-ts-mode . prettier-js-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7900070" class="outline-3">
<h3 id="org7900070"><span class="section-number-3">16.5.</span> <span class="todo TODO">TODO</span> project.el</h3>
<div class="outline-text-3" id="text-16-5">
<p>
Built in project management. I need to configure some more
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">project</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> project-vc-extra-root-markers '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"package.json"</span> <span style="color: #b6540f;">"__init__.py"</span><span style="color: #cb26a0;">)</span>
        project-vc-ignores '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"build/"</span> <span style="color: #b6540f;">"node_modules/"</span> <span style="color: #b6540f;">".log/"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org6fce9f7" class="outline-4">
<h4 id="org6fce9f7"><span class="section-number-4">16.5.1.</span> <span class="todo TODO">TODO</span> exclude build &amp; node files</h4>
</div>

<div id="outline-container-orgffbae10" class="outline-4">
<h4 id="orgffbae10"><span class="section-number-4">16.5.2.</span> <span class="todo TODO">TODO</span> switch between current file and test file a la projectile</h4>
</div>
</div>

<div id="outline-container-org3289320" class="outline-3">
<h3 id="org3289320"><span class="section-number-3">16.6.</span> Flymake</h3>
<div class="outline-text-3" id="text-16-6">
<p>
Emacs's built in error checker. Eglot will use it to highlight errors
</p>

<p>
Added useful key-bindings
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">flymake</span>
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #1a870f; font-weight: bold;">:map</span> flymake-mode-map
              <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-p"</span> . flymake-goto-prev-error<span style="color: #cb26a0;">)</span>
              <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"M-n"</span> . flymake-goto-next-error<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge2831ba" class="outline-3">
<h3 id="orge2831ba"><span class="section-number-3">16.7.</span> eglot</h3>
<div class="outline-text-3" id="text-16-7">
<p>
Built in lsp support. Chosen over lsp-mode as its built in and uses more built-in functionality
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">eglot</span>
    <span style="color: #1a870f; font-weight: bold;">:config</span>
    <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> eglot-confirm-server-initiated-edits nil<span style="color: #007f68;">)</span>
    <span style="color: #1a870f; font-weight: bold;">:hook</span>
    <span style="color: #007f68;">(</span>typescript-mode . eglot-ensure<span style="color: #007f68;">)</span>
    <span style="color: #007f68;">(</span>typescript-ts-mode . eglot-ensure<span style="color: #007f68;">)</span>
<span style="color: #876450; font-style: italic;">;;    </span><span style="color: #876450; font-style: italic;">:bind</span>
  <span style="color: #876450; font-style: italic;">;;   </span><span style="color: #876450; font-style: italic;">("C-c l a" . eglot-code-actions)</span>
    <span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>

<div id="outline-container-orgc6cb2f7" class="outline-4">
<h4 id="orgc6cb2f7"><span class="section-number-4">16.7.1.</span> <span class="todo TODO">TODO</span> keymapping</h4>
<div class="outline-text-4" id="text-16-7-1">
<p>
make a mode map for eglot-mode so keys only work there
</p>
</div>
</div>
</div>

<div id="outline-container-orgfe2b779" class="outline-3">
<h3 id="orgfe2b779"><span class="section-number-3">16.8.</span> Python</h3>
<div class="outline-text-3" id="text-16-8">
</div>
<div id="outline-container-org6c67378" class="outline-4">
<h4 id="org6c67378"><span class="section-number-4">16.8.1.</span> elpy</h4>
<div class="outline-text-4" id="text-16-8-1">
<p>
Seems to be the best Python support
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">elpy</span>
  <span style="color: #1a870f; font-weight: bold;">:init</span>
  <span style="color: #007f68;">(</span>elpy-enable<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org19792fd" class="outline-3">
<h3 id="org19792fd"><span class="section-number-3">16.9.</span> elisp</h3>
<div class="outline-text-3" id="text-16-9">
<p>
Reformat elisp
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">elisp-autofmt</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc1be70d" class="outline-3">
<h3 id="orgc1be70d"><span class="section-number-3">16.10.</span> scheme</h3>
<div class="outline-text-3" id="text-16-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">geiser-mit</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbcf04ac" class="outline-2">
<h2 id="orgbcf04ac"><span class="section-number-2">17.</span> Editing</h2>
<div class="outline-text-2" id="text-17">
</div>
<div id="outline-container-org024d70c" class="outline-3">
<h3 id="org024d70c"><span class="section-number-3">17.1.</span> paredit</h3>
<div class="outline-text-3" id="text-17-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">paredit</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span>emacs-lisp-mode . paredit-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6265e15" class="outline-3">
<h3 id="org6265e15"><span class="section-number-3">17.2.</span> <span class="todo TODO">TODO</span> smartparen</h3>
<div class="outline-text-3" id="text-17-2">
<p>
Disabled for now until I get round to configuring it properly
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">smartparens</span>
  <span style="color: #1a870f; font-weight: bold;">:disabled</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">smartparens-config</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">smartparens-javascript</span><span style="color: #007f68;">)</span>

  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Typescript uses &lt;..&gt; in it's typing syntax, but also for  comparison</span>
  <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">This allows it to be ised for navigation, but will not insert the closing &gt;</span>
  <span style="color: #007f68;">(</span>sp-with-modes '<span style="color: #cb26a0;">(</span>typescript-mode typescript-ts-mode<span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span>sp-local-pair <span style="color: #b6540f;">"&lt;"</span> <span style="color: #b6540f;">"&gt;"</span> <span style="color: #1a870f; font-weight: bold;">:actions</span> '<span style="color: #5f5fdf;">(</span>navigate<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>


   <span style="color: #007f68;">(</span>sp-with-modes '<span style="color: #cb26a0;">(</span>js2-mode typescript-mode typescript-ts-mode js-ts-mode<span style="color: #cb26a0;">)</span>
    <span style="color: #cb26a0;">(</span>sp-local-pair <span style="color: #b6540f;">"/*"</span> <span style="color: #b6540f;">"*/"</span> <span style="color: #1a870f; font-weight: bold;">:post-handlers</span> '<span style="color: #5f5fdf;">(</span><span style="color: #b6540f;">(</span><span style="color: #b6540f;">"| "</span> <span style="color: #b6540f;">"SPC"</span><span style="color: #b6540f;">)</span>
                                               <span style="color: #b6540f;">(</span><span style="color: #b6540f;">"* ||\n[i]"</span> <span style="color: #b6540f;">"RET"</span><span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>smartparens-global-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org49c7318" class="outline-4">
<h4 id="org49c7318"><span class="section-number-4">17.2.1.</span> <span class="todo TODO">TODO</span> smartparens keybindings</h4>
</div>
</div>
<div id="outline-container-org2370b70" class="outline-3">
<h3 id="org2370b70"><span class="section-number-3">17.3.</span> jitspell</h3>
<div class="outline-text-3" id="text-17-3">
<p>
Just in time spell checking
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">jit-spell</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span>prog-mode text-mode<span style="color: #cb26a0;">)</span> . jit-spell-mode<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #b6540f;">"C-:"</span> . jit-spell-correct-word<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb487017" class="outline-3">
<h3 id="orgb487017"><span class="section-number-3">17.4.</span> markdown</h3>
<div class="outline-text-3" id="text-17-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">markdown-mode</span>
  <span style="color: #1a870f; font-weight: bold;">:mode</span> <span style="color: #007f68;">(</span><span style="color: #b6540f;">"README\\.md\\'"</span> . gfm-mode<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:init</span> <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> markdown-command <span style="color: #b6540f;">"pandoc"</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3c466e6" class="outline-2">
<h2 id="org3c466e6"><span class="section-number-2">18.</span> Terminals and shell</h2>
<div class="outline-text-2" id="text-18">
</div>
<div id="outline-container-org076216e" class="outline-3">
<h3 id="org076216e"><span class="section-number-3">18.1.</span> vterm</h3>
<div class="outline-text-3" id="text-18-1">
<p>
A terminal emulator in emacs, using the <code>vterm</code> library <a href="https://github.com/akermu/emacs-libvterm">https://github.com/akermu/emacs-libvterm</a>
</p>

<p>
This is great if I have a lot of output to put to the screen.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">vterm</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfa4309c" class="outline-3">
<h3 id="orgfa4309c"><span class="section-number-3">18.2.</span> eat</h3>
<div class="outline-text-3" id="text-18-2">
<p>
Entirely in elisp and quick. Can also provide better terminal emulation for eshell
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">eat</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge5b1095" class="outline-3">
<h3 id="orge5b1095"><span class="section-number-3">18.3.</span> <span class="todo TODO">TODO</span> eshell</h3>
<div class="outline-text-3" id="text-18-3">
<p>
Now there's a manual I need to RTFM and see what it can do
</p>
</div>
</div>
</div>
<div id="outline-container-orgd43e1f2" class="outline-2">
<h2 id="orgd43e1f2"><span class="section-number-2">19.</span> ement / MATRIX</h2>
<div class="outline-text-2" id="text-19">
<p>
Ement is the  best matrix client for emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">ement</span>
  <span style="color: #1a870f; font-weight: bold;">:custom</span>
  <span style="color: #007f68;">(</span>ement-save-sessions t <span style="color: #b6540f;">"save session on exit"</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org52fbd5b" class="outline-2">
<h2 id="org52fbd5b"><span class="section-number-2">20.</span> IRC</h2>
<div class="outline-text-2" id="text-20">
<p>
Rather than use IRC bridged via matrix, use IRC directly as ement.el takes too long to sync with IRC rooms sometimes
Moot point now as the  LibreChat bridge has been removed
</p>

<p>
Some interesting info: <a href="https://www.reddit.com/r/emacs/comments/8ml6na/tip_how_to_make_erc_fun_to_use/">https://www.reddit.com/r/emacs/comments/8ml6na/tip_how_to_make_erc_fun_to_use/</a>
</p>

<p>
Numeric message types can be found in the spec, or <a href="https://modern.ircdocs.horse/#numerics">here</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">erc</span>
  <span style="color: #1a870f; font-weight: bold;">:custom</span>
  <span style="color: #007f68;">(</span>erc-autojoin-channels-alist
   '<span style="color: #cb26a0;">(</span><span style="color: #5f5fdf;">(</span>Libera.Chat <span style="color: #b6540f;">"#org-mode"</span> <span style="color: #b6540f;">"#emacs-beginners"</span> <span style="color: #b6540f;">"#emacs-til"</span> <span style="color: #b6540f;">"#emacs"</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>erc-hide-list '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"JOIN"</span> <span style="color: #b6540f;">"PART"</span> <span style="color: #b6540f;">"QUIT"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>erc-lurker-hide-list '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"JOIN"</span> <span style="color: #b6540f;">"PART"</span> <span style="color: #b6540f;">"QUIT"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>erc-track-exclude-type '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"JOIN"</span> <span style="color: #b6540f;">"MODE"</span> <span style="color: #b6540f;">"NICK"</span> <span style="color: #b6540f;">"PART"</span> <span style="color: #b6540f;">"QUIT"</span>, <span style="color: #b6540f;">"333"</span>, <span style="color: #b6540f;">"353"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>add-to-list 'erc-modules 'track<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>

<p>
This code from <a href="https://www.emacswiki.org/emacs/ErcBar">https://www.emacswiki.org/emacs/ErcBar</a> puts a bar at the last read point in the buffer
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span>eval-after-load 'erc-track
  '<span style="color: #007f68;">(</span>progn
     <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">defun</span> <span style="color: #4a7d00;">erc-bar-move-back</span> <span style="color: #5f5fdf;">(</span>n<span style="color: #5f5fdf;">)</span>
       <span style="color: #a04360; font-style: italic;">"Moves back n message lines. Ignores wrapping, and server messages."</span>
       <span style="color: #5f5fdf;">(</span><span style="color: #007f68; font-weight: bold;">interactive</span> <span style="color: #b6540f;">"nHow many lines ? "</span><span style="color: #5f5fdf;">)</span>
       <span style="color: #5f5fdf;">(</span>re-search-backward <span style="color: #b6540f;">"^.*&lt;.*&gt;"</span> nil t n<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>

     <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">defun</span> <span style="color: #4a7d00;">erc-bar-update-overlay</span> <span style="color: #5f5fdf;">()</span>
       <span style="color: #a04360; font-style: italic;">"Update the overlay for current buffer, based on the content of</span>
<span style="color: #a04360; font-style: italic;">erc-modified-channels-alist. Should be executed on window change."</span>
       <span style="color: #5f5fdf;">(</span><span style="color: #007f68; font-weight: bold;">interactive</span><span style="color: #5f5fdf;">)</span>
       <span style="color: #5f5fdf;">(</span><span style="color: #007f68; font-weight: bold;">let*</span> <span style="color: #b6540f;">(</span><span style="color: #1f6fbf;">(</span>info <span style="color: #d5206f;">(</span>assq <span style="color: #9435b4;">(</span>current-buffer<span style="color: #9435b4;">)</span> erc-modified-channels-alist<span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span>
              <span style="color: #1f6fbf;">(</span>count <span style="color: #d5206f;">(</span>cadr info<span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span>
         <span style="color: #b6540f;">(</span><span style="color: #007f68; font-weight: bold;">if</span> <span style="color: #1f6fbf;">(</span><span style="color: #007f68; font-weight: bold;">and</span> info <span style="color: #d5206f;">(</span>&gt; count erc-bar-threshold<span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span>
             <span style="color: #1f6fbf;">(</span><span style="color: #007f68; font-weight: bold;">save-excursion</span>
               <span style="color: #d5206f;">(</span>end-of-buffer<span style="color: #d5206f;">)</span>
               <span style="color: #d5206f;">(</span><span style="color: #007f68; font-weight: bold;">when</span> <span style="color: #9435b4;">(</span>erc-bar-move-back count<span style="color: #9435b4;">)</span>
                 <span style="color: #9435b4;">(</span><span style="color: #007f68; font-weight: bold;">let</span> <span style="color: #ae5a30;">(</span><span style="color: #cf2f4f;">(</span>inhibit-field-text-motion t<span style="color: #cf2f4f;">)</span><span style="color: #ae5a30;">)</span>
                   <span style="color: #ae5a30;">(</span>move-overlay erc-bar-overlay
                                 <span style="color: #cf2f4f;">(</span>line-beginning-position<span style="color: #cf2f4f;">)</span>
                                 <span style="color: #cf2f4f;">(</span>line-end-position<span style="color: #cf2f4f;">)</span>
                                 <span style="color: #cf2f4f;">(</span>current-buffer<span style="color: #cf2f4f;">)</span><span style="color: #ae5a30;">)</span><span style="color: #9435b4;">)</span><span style="color: #d5206f;">)</span><span style="color: #1f6fbf;">)</span>
           <span style="color: #1f6fbf;">(</span>delete-overlay erc-bar-overlay<span style="color: #1f6fbf;">)</span><span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>

     <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">defvar</span> <span style="color: #1f6fbf;">erc-bar-threshold</span> 1
       <span style="color: #a04360; font-style: italic;">"Display bar when there are more than erc-bar-threshold unread messages."</span><span style="color: #cb26a0;">)</span>
     <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">defvar</span> <span style="color: #1f6fbf;">erc-bar-overlay</span> nil
       <span style="color: #a04360; font-style: italic;">"Overlay used to set bar"</span><span style="color: #cb26a0;">)</span>
     <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> erc-bar-overlay <span style="color: #5f5fdf;">(</span>make-overlay 0 0<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
     <span style="color: #cb26a0;">(</span>overlay-put erc-bar-overlay 'face '<span style="color: #5f5fdf;">(</span><span style="color: #1a870f; font-weight: bold;">:underline</span> <span style="color: #b6540f;">"black"</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
     <span style="color: #876450; font-style: italic;">;;</span><span style="color: #876450; font-style: italic;">put the hook before erc-modified-channels-update</span>
     <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">defadvice</span> <span style="color: #4a7d00;">erc-track-mode</span> <span style="color: #5f5fdf;">(</span>after erc-bar-setup-hook
                                      <span style="color: #b6540f;">(</span><span style="color: #9435b4;">&amp;rest</span> args<span style="color: #b6540f;">)</span> activate<span style="color: #5f5fdf;">)</span>
       <span style="color: #876450; font-style: italic;">;;</span><span style="color: #876450; font-style: italic;">remove and add, so we know it's in the first place</span>
       <span style="color: #5f5fdf;">(</span>remove-hook 'window-configuration-change-hook 'erc-bar-update-overlay<span style="color: #5f5fdf;">)</span>
       <span style="color: #5f5fdf;">(</span>add-hook 'window-configuration-change-hook 'erc-bar-update-overlay<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
     <span style="color: #cb26a0;">(</span>add-hook 'erc-send-completed-hook <span style="color: #5f5fdf;">(</span><span style="color: #007f68; font-weight: bold;">lambda</span> <span style="color: #b6540f;">(</span>str<span style="color: #b6540f;">)</span>
                                          <span style="color: #b6540f;">(</span>erc-bar-update-overlay<span style="color: #b6540f;">)</span><span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga7ff4d8" class="outline-2">
<h2 id="orga7ff4d8"><span class="section-number-2">21.</span> email</h2>
<div class="outline-text-2" id="text-21">
<p>
My email config is in a separate elisp file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">let</span> <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span>email-el <span style="color: #5f5fdf;">(</span>expand-file-name <span style="color: #b6540f;">"email.el"</span>
                                  user-emacs-directory<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
      <span style="color: #007f68;">)</span>
    <span style="color: #007f68;">(</span>load-file email-el<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>

<p>
I use <code>mbsync</code> to fetch email, built-in <code>smtpmail-send-it</code> to send mail, and <code>mu4e</code> to read mail
</p>
</div>

<div id="outline-container-org572e3fe" class="outline-3">
<h3 id="org572e3fe"><span class="section-number-3">21.1.</span> Sending</h3>
<div class="outline-text-3" id="text-21-1">
<p>
Actual config is in the file loaded above, but this is an example of how it might be configured
</p>

<pre class="example" id="org8452b47">
(use-package emacs
    :ensure nil
    :config
    (setq user-mail-address "my.address@email"
          user-full-name "My Name")
    (setq message-send-mail-function 'smtpmail-send-it
          smtpmail-stream-type 'starttls
          smtpmail-smtp-server "127.0.0.1"
          smtpmail-smtp-service 1025))
</pre>
</div>

<div id="outline-container-orge7a30ca" class="outline-4">
<h4 id="orge7a30ca"><span class="section-number-4">21.1.1.</span> <span class="todo NEXT">NEXT</span> send via gmail too</h4>
<div class="outline-text-4" id="text-21-1-1">
<p>
<a href="https://www.emacswiki.org/emacs/MultipleSMTPAccounts">https://www.emacswiki.org/emacs/MultipleSMTPAccounts</a>
Options for this:
</p>
<ul class="org-ul">
<li>Use msmtp</li>
<li>Use hooks similar to those on the above wiki page</li>
<li>Set the variables using the mu4e context</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgea20442" class="outline-3">
<h3 id="orgea20442"><span class="section-number-3">21.2.</span> mu4e</h3>
<div class="outline-text-3" id="text-21-2">
<p>
Again, actual config is not in this repository, but I make extensive use of custom bookmarks and folders.
There's also some tweaks such as in this example:
</p>
<pre class="example" id="orgc145809">
(use-package mu4e
  :ensure nil
                                        ;    :load-path "/usr/local/share/emacs/site-lisp/mu4e"
  :demand t
  :bind (:map mu4e-headers-mode-map
              ("C-c u" . (lambda () (interactive) (mu4e-search-narrow "flag:unread"))))
  :config
  (progn
    ;; use the mu4e user agent when mu4e is loaded
    (setq mail-user-agent 'mu4e-user-agent)
    ;; folders
    (setq mu4e-drafts-folder "/Drafts"
          mu4e-sent-folder "/Sent"
          mu4e-refile-folder "/Archive"
          mu4e-trash-folder "/Trash"
          mu4e-maildir-shortcuts
          '(("/INBOX" . ?i)
            ("/Archive" . ?r))
    ;; bookmarks
    (setq mu4e-bookmarks
          '(( :name "Unread messages"
              :query "flag:unread AND NOT flag:trashed"
              :key ?r)
            ( :name "Today's messages"
              :query "date:today..now AND NOT flag:trashed"
              :key ?t)
            ( :name "Not mailing list"
              :query "not flag:list AND maildir:/INBOX"
              :key ?b)))
    ;; customize headers so I can see what maildir is being used
    (setq mu4e-headers-fields '((:human-date . 12)
                                (:flags . 6)
                                (:maildir . 10)
                                (:mailing-list . 10)
                                (:from . 22)
                                (:subject)))
    ;; fancier characters
    (setq mu4e-use-fancy-chars t)
    ;; use built-in not ido
    (setq mu4e-read-option-use-builtin nil
          mu4e-completing-read-function 'completing-read)
    (setq mu4e-get-mail-command "fetch-my-mail.sh")
    (setq mu4e-update-interval 600)
    ;; should fix the UID issues with mbsync
    (setq mu4e-change-filenames-when-moving t)))
</pre>

<p>
I use this package to make the headers view look nicer
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">mu4e-column-faces</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> mu4e
  <span style="color: #1a870f; font-weight: bold;">:config</span> <span style="color: #007f68;">(</span>mu4e-column-faces-mode<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>

<div id="outline-container-orgfc157a4" class="outline-4">
<h4 id="orgfc157a4"><span class="section-number-4">21.2.1.</span> iCalendar integration</h4>
<div class="outline-text-4" id="text-21-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">mu4e-icalendar</span>
  <span style="color: #1a870f; font-weight: bold;">:ensure</span> nil
  <span style="color: #1a870f; font-weight: bold;">:demand</span> t
  <span style="color: #1a870f; font-weight: bold;">:after</span> mu4e
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>mu4e-icalendar-setup<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> gnus-icalendar-org-capture-file <span style="color: #b6540f;">"~/org/TODO.org"</span>
        gnus-icalendar-org-capture-headline '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"Calendar"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>gnus-icalendar-org-setup<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org071212e" class="outline-3">
<h3 id="org071212e"><span class="section-number-3">21.3.</span> <span class="todo TODO">TODO</span> Add auto refiling hooks</h3>
<div class="outline-text-3" id="text-21-3">
<p>
Set <code>mu4e-refile-folder</code> to a function: <a href="https://www.djcbsoftware.nl/code/mu/mu4e/Refiling-messages.html">https://www.djcbsoftware.nl/code/mu/mu4e/Refiling-messages.html</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org92a1e5f" class="outline-2">
<h2 id="org92a1e5f"><span class="section-number-2">22.</span> Elfeed</h2>
<div class="outline-text-2" id="text-22">
<p>
RSS reader.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">elfeed</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> elfeed-db-directory <span style="color: #cb26a0;">(</span>expand-file-name <span style="color: #b6540f;">"elfeed"</span> user-emacs-directory<span style="color: #cb26a0;">)</span>
        elfeed-show-entry-switch 'display-buffer<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">use org to configure</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">elfeed-org</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> elfeed
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>elfeed-org<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> rmh-elfeed-org-files <span style="color: #cb26a0;">(</span>list <span style="color: #b6540f;">"~/.emacs.d/elfeed.org"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>


<p>
Elfeed Goodies is nice, it provides a split pane view and is prettier.
My only complaint is it doesn't show the date of the post which is something I like to have, but there is a PR for that: <a href="https://github.com/jeetelongname/elfeed-goodies/pull/16">https://github.com/jeetelongname/elfeed-goodies/pull/16</a>
I've got a patched version of elfeed-goodies locally and use that
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">split pane</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">elfeed-goodies</span>
  <span style="color: #1a870f; font-weight: bold;">:ensure</span> nil
  <span style="color: #1a870f; font-weight: bold;">:load-path</span> <span style="color: #b6540f;">"~/elisp/elfeed-goodies"</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> elfeed
  <span style="color: #1a870f; font-weight: bold;">:custom</span>
  <span style="color: #007f68;">(</span>elfeed-goodies/entry-pane-position 'bottom<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>elfeed-goodies/setup<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">view in webkit browser</span>
<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">elfeed-webkit</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> elfeed<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org194ff4c" class="outline-2">
<h2 id="org194ff4c"><span class="section-number-2">23.</span> Democratize</h2>
<div class="outline-text-2" id="text-23">
<p>
<a href="https://flandrew.srht.site/listful/sw-emacs-democratize.html#install">https://flandrew.srht.site/listful/sw-emacs-democratize.html#install</a>
needs downloading and installing. No ELPA
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">ht</span><span style="color: #cf2f4f;">)</span>

<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">xht</span>
  <span style="color: #1a870f; font-weight: bold;">:requires</span> ht
  <span style="color: #1a870f; font-weight: bold;">:vc</span> <span style="color: #007f68;">(</span>xht <span style="color: #1a870f; font-weight: bold;">:url</span> <span style="color: #b6540f;">"https://git.sr.ht/~flandrew/xht"</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

<span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">democratize</span>
  <span style="color: #1a870f; font-weight: bold;">:vc</span> <span style="color: #007f68;">(</span>democratize <span style="color: #1a870f; font-weight: bold;">:url</span> <span style="color: #b6540f;">"https://git.sr.ht/~flandrew/democratize"</span><span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:after</span> <span style="color: #007f68;">(</span>s dash f xht<span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span>democratize-enable-examples-in-helpful<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>democratize-enable-examples-in-help<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>




<div id="outline-container-org48477bb" class="outline-2">
<h2 id="org48477bb"><span class="section-number-2">24.</span> Denote</h2>
<div class="outline-text-2" id="text-24">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">denote</span>
  <span style="color: #1a870f; font-weight: bold;">:bind</span>
  <span style="color: #007f68;">(</span>
   <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">Note creation</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n n"</span> . denote<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n N"</span> . denote-type<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n s"</span> . denote-subdirectory<span style="color: #cb26a0;">)</span>
   <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">links</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n i"</span> . denote-link<span style="color: #cb26a0;">)</span> <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">mnemonic '</span><span style="color: #d03003; font-style: italic;">insert</span><span style="color: #876450; font-style: italic;">'</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n I"</span> . denote-add-links<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n b"</span>  . denote-backlinks<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n f f"</span> . denote-find-link<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n d b"</span> . denote-find-backlink<span style="color: #cb26a0;">)</span>
   <span style="color: #876450; font-style: italic;">;; </span><span style="color: #876450; font-style: italic;">renaming - can happen anywhere so files can be renamed in denote syntax</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n r"</span> . denote-rename-file<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c n R"</span> . denote-rename-file-using-front-matter<span style="color: #cb26a0;">)</span>
   <span style="color: #1a870f; font-weight: bold;">:map</span> dired-mode-map
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c C-d C-i"</span> . denote-link-dired-marked-notes<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c C-d C-r"</span> . denote-dired-rename-marked-files<span style="color: #cb26a0;">)</span>
   <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"C-c C-d C-R"</span> . denote-dired-rename-marked-files-using-front-matter<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:hook</span>
  <span style="color: #007f68;">(</span><span style="color: #cb26a0;">(</span>dired-mode . denote-dired-mode<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #1a870f; font-weight: bold;">:config</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> denote-directory <span style="color: #cb26a0;">(</span>expand-file-name <span style="color: #b6540f;">"~/org/notes"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> denote-known-keywords '<span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"emacs"</span> <span style="color: #b6540f;">"radio"</span><span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> denote-infer-keywords t<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> denote-sort-keywords t<span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> denote-file-type nil<span style="color: #007f68;">)</span> <span style="color: #876450; font-style: italic;">; </span><span style="color: #876450; font-style: italic;">Default: Org</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> denote-promptes '<span style="color: #cb26a0;">(</span>title keyword<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span> <span style="color: #876450; font-style: italic;">; </span><span style="color: #876450; font-style: italic;">Maybe signature in the future?</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">setq</span> denote-allow-multi-word-keywords t<span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgac12c46" class="outline-2">
<h2 id="orgac12c46"><span class="section-number-2">25.</span> <span class="todo TODO">TODO</span> session management</h2>
<div class="outline-text-2" id="text-25">
<p>
Need to find some way to save state across sessions
</p>
</div>
</div>
<div id="outline-container-org351e7e8" class="outline-2">
<h2 id="org351e7e8"><span class="section-number-2">26.</span> <span class="todo TODO">TODO</span> general key bindings</h2>
<div class="outline-text-2" id="text-26">
<p>
A selection of keybindings which are useful for my personal workflow
</p>
</div>
<div id="outline-container-orge3abb0a" class="outline-3">
<h3 id="orge3abb0a"><span class="section-number-3">26.1.</span> Functions for use in my</h3>
<div class="outline-text-3" id="text-26-1">
</div>
<div id="outline-container-org66972b1" class="outline-4">
<h4 id="org66972b1"><span class="section-number-4">26.1.1.</span> Open my emacs config</h4>
<div class="outline-text-4" id="text-26-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">defun</span> <span style="color: #4a7d00;">open-config</span> <span style="color: #007f68;">()</span>
  <span style="color: #a04360; font-style: italic;">"Open configuration"</span>
  <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">interactive</span><span style="color: #007f68;">)</span>
  <span style="color: #007f68;">(</span>find-file <span style="color: #cb26a0;">(</span>expand-file-name <span style="color: #b6540f;">"emacs.org"</span> user-emacs-directory<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge8056e6" class="outline-3">
<h3 id="orge8056e6"><span class="section-number-3">26.2.</span> Custom  prefix</h3>
<div class="outline-text-3" id="text-26-2">
<p>
Try using <code>F24</code> as a prefix key - bound to the right thumb-pad on my moonlander
</p>

<p>
To get this to work on WSL2 I needed the following <code>.Xmodmap</code> because Ubuntu sets these keycodes to special XF86 functions, or not at all
</p>
<pre class="example" id="orgb731181">
keycode 191 = F13 F13 F13
keycode 192 = F14 F14 F14
keycode 193 = F15 F15 F15
keycode 194 = F16 F16 F16
keycode 195 = F17 F17 F17
keycode 196 = F18 F18 F18
keycode 197 = F19 F19 F19
keycode 198 = F20 F20 F20
keycode 199 = F21 F21 F21
keycode 200 = F22 F22 F22
keycode 201 = F23 F23 F23
keycode 202 = F24 F24 F24
</pre>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">use-package</span> <span style="color: #d03003;">bind-key</span>
  <span style="color: #1a870f; font-weight: bold;">:ensure</span> nil
  <span style="color: #1a870f; font-weight: bold;">:bind</span> <span style="color: #007f68;">(</span><span style="color: #1a870f; font-weight: bold;">:prefix-map</span> my-map
         <span style="color: #1a870f; font-weight: bold;">:prefix-docstring</span> <span style="color: #b6540f;">"My own keybindings"</span>
         <span style="color: #1a870f; font-weight: bold;">:prefix</span> <span style="color: #b6540f;">"&lt;f24&gt;"</span>
         <span style="color: #876450; font-style: italic;">;</span><span style="color: #876450; font-style: italic;">("m" . mu4e)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"e c"</span> . ement-connect<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"e r"</span> . ement-list-rooms<span style="color: #cb26a0;">)</span>
         <span style="color: #cb26a0;">(</span><span style="color: #b6540f;">"c"</span> . open-config<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge4b3a6d" class="outline-2">
<h2 id="orge4b3a6d"><span class="section-number-2">27.</span> After everything loaded</h2>
<div class="outline-text-2" id="text-27">
<p>
This seems to be required to be loaded after everything else for some reason. Maybe it was a bug somewhere?
</p>
</div>
<div id="outline-container-orgcbc1ecd" class="outline-3">
<h3 id="orgcbc1ecd"><span class="section-number-3">27.1.</span> Line numbers</h3>
<div class="outline-text-3" id="text-27-1">
<p>
Show line numbers, or not
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orgc964d3c"><span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">require</span> '<span style="color: #d03003;">display-line-numbers</span><span style="color: #cf2f4f;">)</span>
 <span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">defcustom</span> <span style="color: #1f6fbf;">display-line-numbers-exempt-modes</span>
   '<span style="color: #007f68;">(</span>vterm-mode
     eshell-mode
     shell-mode
     term-mode
     ansi-term-mode
     mu4e-headers-mode
     mu4e-main-mode
     mu4e-view-mode
     ement-room-mode
     eat-mode
     elfeed-search-mode
     pdf-view-mode<span style="color: #007f68;">)</span>
   <span style="color: #a04360; font-style: italic;">"Major modes on which to disable line numbers."</span>
   <span style="color: #1a870f; font-weight: bold;">:group</span> 'display-line-numbers
   <span style="color: #1a870f; font-weight: bold;">:type</span> 'list
   <span style="color: #1a870f; font-weight: bold;">:version</span> <span style="color: #b6540f;">"green"</span><span style="color: #cf2f4f;">)</span>

 <span style="color: #cf2f4f;">(</span><span style="color: #007f68; font-weight: bold;">defun</span> <span style="color: #4a7d00;">display-line-numbers--turn-on</span> <span style="color: #007f68;">()</span>
   <span style="color: #a04360; font-style: italic;">"Turn on line numbers except for certain major modes.</span>
<span style="color: #a04360; font-style: italic;"> Exempt major modes are defined in `</span><span style="color: #d03003; font-style: italic;">display-line-numbers-exempt-modes</span><span style="color: #a04360; font-style: italic;">'."</span>
   <span style="color: #007f68;">(</span><span style="color: #007f68; font-weight: bold;">unless</span> <span style="color: #cb26a0;">(</span><span style="color: #007f68; font-weight: bold;">or</span> <span style="color: #5f5fdf;">(</span>minibufferp<span style="color: #5f5fdf;">)</span>
               <span style="color: #5f5fdf;">(</span>member major-mode display-line-numbers-exempt-modes<span style="color: #5f5fdf;">)</span><span style="color: #cb26a0;">)</span>
     <span style="color: #cb26a0;">(</span>display-line-numbers-mode<span style="color: #cb26a0;">)</span><span style="color: #007f68;">)</span><span style="color: #cf2f4f;">)</span>

 <span style="color: #cf2f4f;">(</span>global-display-line-numbers-mode t<span style="color: #cf2f4f;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Tristan Mills</p>
<p class="date">Created: 2023-09-14 Thu 21:10</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>